<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Heat exchangers ¬∑ TASOPT.jl</title><meta name="title" content="Heat exchangers ¬∑ TASOPT.jl"/><meta property="og:title" content="Heat exchangers ¬∑ TASOPT.jl"/><meta property="twitter:title" content="Heat exchangers ¬∑ TASOPT.jl"/><meta name="description" content="Documentation for TASOPT.jl."/><meta property="og:description" content="Documentation for TASOPT.jl."/><meta property="twitter:description" content="Documentation for TASOPT.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">TASOPT.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../examples/loadingrunning/">Loading and running</a></li><li><a class="tocitem" href="../../examples/payload_range/">Payload-range diagram</a></li><li><input class="collapse-toggle" id="menuitem-2-3" type="checkbox"/><label class="tocitem" for="menuitem-2-3"><span class="docs-label">Optimization</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/NM_optimization/">Nelder Mead</a></li><li><a class="tocitem" href="../../examples/gradient_based_optimization/">Gradient Based Optimization</a></li></ul></li><li><a class="tocitem" href="../../examples/sensitivity/">Sensitivities</a></li></ul></li><li><span class="tocitem">Aerodynamics</span><ul><li><a class="tocitem" href="../../aero/geometry/">Geometry</a></li><li><a class="tocitem" href="../../aero/lift/">Lift</a></li><li><a class="tocitem" href="../../aero/drag/">Drag</a></li><li><a class="tocitem" href="../../aero/moment/">Pitching moment</a></li><li><a class="tocitem" href="../../atmos/atmos/">Atmospheric properties</a></li></ul></li><li><span class="tocitem">Structures</span><ul><li><a class="tocitem" href="../../structures/wing/">Wings and tails</a></li><li><a class="tocitem" href="../../structures/fuselage/">Fuselage</a></li><li><a class="tocitem" href="../../structures/cabin_sizing/">Cabin sizing</a></li></ul></li><li><span class="tocitem">Cryogenic tanks</span><ul><li><a class="tocitem" href="../../cryo_tank/cryotank/">Homogeneous model</a></li><li><a class="tocitem" href="../../cryo_tank/fueltanks/">Thermal and structural models</a></li></ul></li><li><span class="tocitem">Propulsion systems</span><ul><li><a class="tocitem" href="../propsys/">Propulsion system</a></li><li><a class="tocitem" href="../gascalc/">Gas Calculations</a></li><li class="is-active"><a class="tocitem" href>Heat exchangers</a><ul class="internal"><li><a class="tocitem" href="#Theory"><span>Theory</span></a></li><li><a class="tocitem" href="#Structures"><span>Structures</span></a></li><li><a class="tocitem" href="#Functions"><span>Functions</span></a></li></ul></li><li><a class="tocitem" href="../PEMfuelcell/">PEM fuel cells</a></li></ul></li><li><a class="tocitem" href="../../balance/balance/">Stability</a></li><li><span class="tocitem">Mission and sizing</span><ul><li><a class="tocitem" href="../../sizing/sizing/">Design and evaluation</a></li><li><a class="tocitem" href="../../sizing/weightmodels/">Weight models</a></li></ul></li><li><span class="tocitem">Data and I/O</span><ul><li><a class="tocitem" href="../../data_io/data_basics/">Data structure basics</a></li><li><a class="tocitem" href="../../data_io/data_io/">Loading and saving models</a></li></ul></li><li><span class="tocitem">Miscellaneous</span><ul><li><a class="tocitem" href="../../misc/structs/">Data structures</a></li><li><a class="tocitem" href="../../misc/dreladocs/">Original Drela docs</a></li><li><a class="tocitem" href="../../misc/misc/">Other utilities</a></li><li><a class="tocitem" href="../../misc/fordevs/">Notes for devs</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Propulsion systems</a></li><li class="is-active"><a href>Heat exchangers</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Heat exchangers</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/MIT-LAE/TASOPT.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands">ÔÇõ</span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/MIT-LAE/TASOPT.jl/blob/main/docs/src/propulsion/hxfun.md" title="Edit source on GitHub"><span class="docs-icon fa-solid">ÔÅÑ</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Heat-exchangers"><a class="docs-heading-anchor" href="#Heat-exchangers">Heat exchangers</a><a id="Heat-exchangers-1"></a><a class="docs-heading-anchor-permalink" href="#Heat-exchangers" title="Permalink"></a></h1><h2 id="Theory"><a class="docs-heading-anchor" href="#Theory">Theory</a><a id="Theory-1"></a><a class="docs-heading-anchor-permalink" href="#Theory" title="Permalink"></a></h2><details class="admonition is-details"><summary class="admonition-header">üìñ Theory - Tubular heat exchangers</summary><div class="admonition-body"><h3>Effectiveness‚ÄìNTU method</h3><p>There are many different heat exchanger (HX) topologies. The HX currently implemented in TASOPT consists of staggered tubes in a cross flow; this geometry was selected because it is simple to integrate into the space between two concentric cylinders. The HX is designed using the effectiveness‚ÄìNTU method, described below <sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup>.  </p><p>Consider a heat exchanger in which a coolant gas is used to cool or heat gas. The minimum and maximum heat capacity rates are defined as</p><p class="math-container">\[C_{\mathrm{min}} = \mathrm{min} (\dot{m}_c c_{p,c}, \dot{m}_p c_{p,p})\]</p><p class="math-container">\[C_{\mathrm{max}} = \mathrm{max} (\dot{m}_c c_{p,c}, \dot{m}_p c_{p,p}),\]</p><p>where <span>$\dot{m}$</span> is the mass flow rate, <span>$c_p$</span> is the specific heat at constant pressure, and the subscripts <span>$p$</span> and <span>$c$</span> refer to the process-side and coolant streams. The capacity ratio is <span>$C_r = \frac{C_{\mathrm{min}}}{C_{\mathrm{max}}}$</span>. </p><p>A maximum heat transfer rate is defined as</p><p class="math-container">\[\dot{Q}_{max} = C_{\mathrm{min}} (T_{i,p} - T_{i,c}),\]</p><p>where <span>$T$</span> is the absolute temperature. A measure of the HX performance is the effectiveness, <span>$\varepsilon$</span>, defined as</p><p class="math-container">\[\varepsilon = \frac{\dot{Q}}{\dot{Q}_{max}},\]</p><p>where <span>$\dot{Q}$</span> is the actual heat transfer rate. The effectiveness can range between 0 and 1. A related quantity known as the number of transfer units (NTU) is defined as</p><p class="math-container">\[\mathrm{NTU} = \frac{1}{C_{\mathrm{min}} R_o},\]</p><p>where <span>$R_o$</span> is the overall thermal resistance. For any heat exchanger geometry, it can be shown that the effectiveness is a function of the NTU and the ratio <span>$\frac{C_{\mathrm{min}}}{C_{\mathrm{max}}}$</span>. </p><p>In the case of a cross flow heat exchanger, this functional relationship between <span>$\varepsilon$</span> and NTU depends on whether there is internal mixing within the stream and on which stream has the minimum capacity rate. In a HX within a jet engine, it is reasonable to assume that the coolant stream has the minimum capacity rate as the fuel-air ratio is small. For tubular HX, the process stream is mixed but the coolant stream is unmixed as the tubes are independent. In this case, the relationship between <span>$\varepsilon$</span> and NTU is<sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup></p><p class="math-container">\[\varepsilon = \frac{1}{C_{r}} [1 - \exp(-C_{r} (1 - \exp(-\mathrm{NTU})))],\]</p><p>or conversely</p><p class="math-container">\[\mathrm{NTU} = -\ln\left(1 + \frac{\ln(1 - C_r\varepsilon)}{C_r}\right).\]</p><p>On the other hand, if the coolant stream has the maximum heat capacity rate, the effectiveness is given by</p><p class="math-container">\[\varepsilon = 1 - \exp\left[-\frac{1}{C_{r}} (1 - \exp(-C_r \mathrm{NTU}))\right],\]</p><p>and the corresponding NTU is</p><p class="math-container">\[\mathrm{NTU} = -\frac{1}{C_{r}} \ln\left[ 1 + C_r \ln(1 - \varepsilon)\right].\]</p><p>A notable property of these expressions is that there is a maximum effectiveness <span>$\varepsilon_\mathrm{max} &lt; 1$</span> as the NTU tends to infinity. In the code, there is a check to see if the desired effectiveness exceeds the maximum possible one, in which case there is no solution. The effectiveness is limited to 95% of <span>$\varepsilon_\mathrm{max}$</span> to prevent a very large NTU.</p><p>Once the effectiveness is known, the outlet specific enthalpies can be computed using</p><p class="math-container">\[h_{o,p} = h_{i,p} - \frac{\dot{Q}}{\dot{m}_p}\]</p><p class="math-container">\[h_{o,c} = h_{i,c} + \frac{\dot{Q}}{\dot{m}_c},\]</p><p>where <span>$h$</span> represents the specific enthalpy, and the outlet temperatures can be determined from these.</p><h3>Recirculation</h3><p>If the coolant is originally in liquid form, it needs to undergo a phase change at some point in the heat exchanger. For cryogenic liquids, such as hydrogen or methane, it is unadvisable to expose air to these cryogenic temperatures as it can result in freezing or liquefaction of some species in air. A possible approach to overcome this is to introduce recirculation in the heat exchanger: this increases the coolant mass flow rate and allows for a higher coolant temperature while still having the same heat transfer. </p><p>The way recirculation is currently modeled in TASOPT is via a virtual &quot;mixing chamber&quot;, where the hot recirculating mass flow that comes of of the HX is mixed with the colder coolant (which may be liquid in general) and heats it up to a desired HX inlet temperature,<span>$T_{i,c}$</span>. Neglecting the kinetic energy in the fluids, conservation of energy requires that</p><p class="math-container">\[\dot{m}_{c,\infty} (h_{c,\infty}-h_{lat}) + \dot{m}_{r} h_{o,c} = (\dot{m}_{c,\infty}+\dot{m}_{r})h_{i,c},\]</p><p>where <span>$\dot{m}_r$</span> is the recirculating mass flow rate and <span>$\dot{m}_{c,\infty}$</span> is the coolant mass flow rate before mixing with recirculation and, by mass conservation, the mass flow rate that leaves the system. The term <span>$h_{lat}$</span> represents a latent heat and may account for vaporization or, in the case of hydrogen, the ortho- to parahydrogen conversion. The specific enthalpies into and out of the HX are related by </p><p class="math-container">\[h_{o,c} = h_{i,c} + \frac{\dot{Q}}{\dot{m}_{c,\infty}+\dot{m}_{r}}.\]</p><p>As the heat transfer rate is given by <span>$\dot{Q} = \varepsilon C_{\mathrm{min}} (T_{i,p} - T_{i,c})$</span>, we can distinguish two cases depending on whether the coolant has the minimum or maximum heat capacity rate. If <span>$C_{\mathrm{min}}=(\dot{m}_{c,\infty}+\dot{m}_{r}) c_{pi,c}$</span>,</p><p class="math-container">\[\dot{m}_r = \dot{m}_{c,\infty} \frac{h_{i,c} - h_{c,\infty} + h_{lat}}{\varepsilon c_{pi,c}(T_{i,p} - T_{i,c})},\]</p><p>and if <span>$C_{\mathrm{max}}=(\dot{m}_{c,\infty}+\dot{m}_{r}) c_{pi,c}$</span>,</p><p class="math-container">\[\dot{m}_r = \dot{m}_{c,\infty}\frac{A}{1-A},\]</p><p>where </p><p class="math-container">\[A = \dot{m}_{c,\infty}\frac{h_{i,c} -h_{c,\infty} + h_{lat}}{\varepsilon C_h (T_{i,p} - T_{i,c})}.\]</p><p>A failure case exists if <span>$A\geq 1$</span>: in this case, the hot stream does not have enough heat capacity to provide the heat needed to get the coolant to the desired <span>$T_{i,c}$</span>.</p><h3>Heat exchanger geometry</h3><p><img src="../../assets/tubular_HX.svg" alt="HXfig"/></p><p>Two HX cross-sections are currently supported: rectangular and concentric cylinders (e.g., for a jet engine core). If the geometry is rectangular, the length of the tubes dictates the width of the rectangle, but if it is concentric, the tubes could have any length greater or equal to the distance between the cylinders as involute tubes could be used. The heat exchanger is assumed to have <span>$N_\mathrm{stages}$</span> different serial stages, with each stage containing <span>$N_\mathrm{passes}$</span> tube rows, each corresponding to a coolant pass. For example, the HX in the figure above with 2 stages and 3 coolant passes has a total of <span>$N_L=N_\mathrm{stages}N_\mathrm{passes}=6$</span> tube rows. The number of tubes at every row is <span>$N_t$</span>; this parameter can be calculated from the mass flow rate through the cold side or from the geometry of the stage</p><p class="math-container">\[N_t = \frac{4 \dot{m}_c}{\rho_{c,i}V_{c,i} \pi D_{t,i}^2 N_\mathrm{stages}} = \frac{b}{\frac{x_t}{D} D_{t,o}},\]</p><p>where <span>$b$</span> is length across which the tubes are distributed. If the cross-section is concentric, <span>$b=\pi D_{c,i}$</span> with <span>$D_{c,i}$</span> being the inner cylinder diameter; if it is rectangular, <span>$b = \frac{A_{cs}}{l}$</span>. In this expressions, <span>$A_{cs}=\frac{\dot{m}_p}{\rho_{p,i}V_{p,i}}$</span> is the freestream cross-sectional area. Since the tube inner diameter can be expressed as <span>$D_{t,i} = D_{t,o} - 2t$</span>, this equation can be solved for the tube outer diameter</p><p class="math-container">\[D_{t,o} = \frac{4  K  t + \sqrt{8  K t + 1} + 1}{2 K},\]</p><p>with <span>$K = \frac{\pi b N_\mathrm{stages} \rho_{c,i}V_{c,i}}{4 \frac{x_t}{D} \dot{m}_c}$</span>.</p><p>The total length of the HX is simply <span>$L = N_L \frac{x_l}{D} D_{t,o}$</span>.</p><p>Some calculations rely on knowing the tangential pitch between tubes. This pitch may vary in the radial direction as the circumference changes but the tube diameter remains unchanged. In addition to this, the tubes are generally involute, which makes calculating this pitch even more challenging. In the code, a mean tangential pitch <span>$x_{t,m}$</span> is used to compute parameters such as the pressure drop and the Nusselt number. This mean pitch is calculated as</p><p class="math-container">\[x_{t,m} = \frac{A_{cs}}{N_t l},\]</p><p>where <span>$l$</span> is the length of each involute tube. The mass flow rate per unit area at the minimum free flow area is </p><p class="math-container">\[G = \frac{\dot{m}_p}{A_{cs} - N_t l D_{t,o}}.\]</p><p>Note that for this expression to be valid, it is sufficient that <span>$x_l/D\geq 1$</span>. If the general geometry and total hot-side heat transfer area are known (e.g., from the NTU), but the number of coolant passes has not been determined yet, this can be calculated as</p><p class="math-container">\[N_\mathrm{passes} = \frac{A_h}{N_t N_\mathrm{stages} \pi D_{t,o} l}.\]</p><h3>Heat transfer coefficients</h3><p>The above analysis relies on being able to determine the overall thermal resistance. In general, the thermal resistance has five components: hot- and cold-side gas resistances, wall resistance, and hot- and cold-side fouling resistances. The gas resistances are the aerodynamic resistances due to the thermal boundary layers, the wall resistance depends on the material conductivity and thickness, and the fouling resistances account for buildup of dirt layers during operation. The product of thermal resistance and heat transfer area (thermal insulance) is in practice easier to compute</p><p class="math-container">\[R_o A_p = \frac{1}{h_p} + \frac{1}{h_c \frac{A_c}{A_p}} + \frac{t}{k_w} + R_{f,p}A_p + R_{f,c}A_c \frac{A_p}{A_c},\]</p><p>where <span>$h$</span> is the the aerodynamic heat transfer coefficient, <span>$A$</span> is the heat transfer area, <span>$t$</span> is the wall thickness, <span>$k$</span> is the thermal conductivity, <span>$w$</span> denotes the wall, and <span>$R_fA$</span> is the fouling factor. A list of design fouling factors can be found in <sup class="footnote-reference"><a id="citeref-2" href="#footnote-2">[2]</a></sup> and <sup class="footnote-reference"><a id="citeref-3" href="#footnote-3">[3]</a></sup>.</p><p>The heat transfer coefficients depend on the gas temperature, which changes as heat is added to the flows. A mean gas temperature, taken as the average between the inlet and outlet temperatures, is used to calculate the gas properties,</p><p class="math-container">\[T_{p,m} = \frac{T_{p,o} - T_{p,i}}{2}\]</p><p class="math-container">\[T_{c,m} = \frac{T_{c,o} - T_{c,i}}{2}.\]</p><h4>Coolant-side heat transfer coefficient</h4><p>The flow inside the tubes can be modeled by assuming that it is fully-developed turbulent flow in a smooth pipe. In this case, the 1913 Blasius correlation provides a method to calculate the skin-friction coefficient, <span>$C_f$</span></p><p class="math-container">\[C_f = \frac{\tau_w}{\frac{1}{2}\rho_{c,m} V_{c,m}^2} = 0.0791 \mathrm{Re}_{D,c}^{-1/4},\]</p><p>where <span>$\tau_w$</span> is the wall shear stress, <span>$\rho$</span> is the mass density, <span>$V$</span> is the velocity and the cold-side diameter-based Reynolds number is defined as <span>$\mathrm{Re}_{D,c}=\frac{V_{c,m}\rho_{c,m} D_{t,i}}{\mu_{c,m}}$</span>, with <span>$D_{t,i}$</span> being the tube inner diameter and <span>$\mu$</span> being the viscosity.</p><p>When the skin-friction coefficient is known, the Colburn j-factor can be calculated using the Reynolds analogy</p><p class="math-container">\[j = \mathrm{St} \mathrm{Pr}^{2/3} = \frac{C_f}{2},\]</p><p>where <span>$\mathrm{St} = \frac{h}{\rho V c_p}$</span> is the Stanton number and <span>$\mathrm{Pr} = \frac{c_p \mu}{k}$</span> is the Prandtl number. Once <span>$j$</span> is determined, the heat transfer coefficient <span>$h_c$</span> can be computed from the cold gas properties.</p><h4>Process-side heat transfer coefficient</h4><p>The flow past a set of staggered tubes is complex. ≈Ωkauskas<sup class="footnote-reference"><a id="citeref-4" href="#footnote-4">[4]</a></sup> provides simplified correlations that can be used to model the heat transfer properties of these tubes. Generally, the Nusselt number can be expressed as</p><p class="math-container">\[\mathrm{Nu} = C_1 C_2 \mathrm{Re}^m \mathrm{Pr}^n,\]</p><p>where the Reynolds number is defined as <span>$\mathrm{Re}= \frac{G D_{t,o}}{\mu_{p,m}}$</span>, <span>$D_{t,o}$</span> is the tube outer diameter, and <span>$G$</span> is the hot-side mass flow rate per unit area at the minimum free-flow area. Hence, this Reynolds number accounts for blockage effects due to the presence of the tubes.</p><p>The following table shows the value of the parameters <span>$C_1$</span>, <span>$m$</span> and <span>$n$</span> as a function of Reynolds number.</p><table><tr><th style="text-align: right">Re</th><th style="text-align: right"><span>$C_1$</span></th><th style="text-align: right"><span>$m$</span></th><th style="text-align: right"><span>$n$</span></th></tr><tr><td style="text-align: right">0‚Äì40</td><td style="text-align: right">1.04</td><td style="text-align: right">0.4</td><td style="text-align: right">0.36</td></tr><tr><td style="text-align: right">40‚Äì1000</td><td style="text-align: right">0.71</td><td style="text-align: right">0.5</td><td style="text-align: right">0.36</td></tr><tr><td style="text-align: right">1000‚Äì<span>$2\times 10^5$</span> &amp; <span>$x_t/x_l&lt;2$</span></td><td style="text-align: right"><span>$0.35  (x_t / x_l) ^ {0.2}$</span></td><td style="text-align: right">0.6</td><td style="text-align: right">0.36</td></tr><tr><td style="text-align: right">1000‚Äì<span>$2\times 10^5$</span> &amp; <span>$x_t/x_l\geq 2$</span></td><td style="text-align: right">0.4</td><td style="text-align: right">0.6</td><td style="text-align: right">0.36</td></tr><tr><td style="text-align: right"><span>$&gt;2\times 10^5$</span></td><td style="text-align: right"><span>$0.031  (x_t / x_l) ^ {0.2}$</span></td><td style="text-align: right">0.8</td><td style="text-align: right">0.4</td></tr></table><p>The parameters in the table can be affected by the distances <span>$x_t$</span> and <span>$x_l$</span>, which are the distances between tubes in the tangential and longitudinal directions. Note that the distance <span>$x_{t}$</span> used in the calculations is <span>$x_{t,m}$</span> as the pitch varies in the radial direction. The ratios of this distances to the tube outer diameter, <span>$\frac{x_t}{D}$</span> and <span>$\frac{x_t}{D}$</span>, are design parameters. </p><p>The parameter <span>$C_2$</span> is a correction that accounts for the number of rows, <span>$N_L$</span>, and tends to 1 as the number of rows goes to infinity. It can be approximated as </p><p class="math-container">\[C_2 = 1-\exp(-N_L^{1 / \sqrt{3}})\]</p><p>if <span>$Re&gt;1000$</span> and otherwise as</p><p class="math-container">\[C_2 = 1-\exp(-\sqrt{3 N_L^{1 / \sqrt{2}}}).\]</p><p>Once the Nusselt number is known, the hot-side heat transfer coefficient can be computed as <span>$h_p = \frac{\mathrm{Nu} k_p}{D_{t,o}}$</span>.</p><h3>Pressure drops</h3><p>The pressure drop in the hot-side (across the staggered tube bank) can be estimated using the method of Gunter and Shaw<sup class="footnote-reference"><a id="citeref-5" href="#footnote-5">[5]</a></sup>. The first necessary parameter is the volumetric hydraulic diameter, defined as</p><p class="math-container">\[D_v = \frac{4(\mathrm{Net\,free\,volume})}{\mathrm{Friction\,surface}} = \frac{4 L \frac{\dot{m}_p}{V_{p,i}\rho_{p,i}}-N_t N_\mathrm{passes} N_\mathrm{stages} \pi D_{t,o}^2 l}{A_p}.\]</p><p>From this, the pressure drop across the process side can be computed as</p><p class="math-container">\[\Delta p_p = \frac{G^2 L }{D_v \rho_{p,m}} \frac{f}{2} \left(\frac{D_v}{x_t}\right)^{0.4}\left(\frac{x_l}{x_t}\right)^{0.6} \left(\frac{\mu}{\mu_w}\right)^{-0.14},\]</p><p>where <span>$\frac{f}{2}$</span> is a friction factor that can be related to the Reynolds number, <span>$Re_{D_v} = \frac{G D_v}{\mu_{p,m}}$</span>, as <span>$\frac{f}{2}= 90 / Re_{D_v}$</span> for <span>$Re_{D_v}&lt;200$</span> and <span>$\frac{f}{2}= 0.96  Re_{D_v}^{-0.145}$</span> otherwise. As in the heat transfer coefficient case, note that the distance <span>$x_{t}$</span> used in the calculations is <span>$x_{t,m}$</span> since the pitch varies in the radial direction.</p><p>The cold-side pressure drop can be calculated from the skin-friction coefficient, ignoring the minor losses due to flow turning at each pass,</p><p class="math-container">\[\Delta p_c = \frac{4 \tau_w N_\mathrm{passes} \pi D_{t,i} l}{\pi D_{t,i}^2}= \frac{4 \tau_w N_\mathrm{passes} l}{D_{t,i}},\]</p><p>with <span>$\tau_w = C_f \frac{1}{2}\rho_{c,m} V_{c,m}^2$</span>.</p><h3>Correction for temperature changes across thermal boundary layer</h3><p>Temperature changes across the thermal boundary layer in both the coolant and process streams. Identifying the temperature at which to evaluate the properties is not trivial. In the code, the method in Kays and London<sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup> is used: all properties are evaluated at the freestream temperatures (<span>$T_{p,m}$</span> and <span>$T_{c,m}$</span>) and a correction is applied to the Nusselt number and the friction coefficient (<span>$f$</span> in the process stream and <span>$C_f$</span> for the coolant). These take the form</p><p class="math-container">\[\mathrm{Nu} = \mathrm{Nu}_m\left(\frac{T_w}{T_m}\right)^n\]</p><p class="math-container">\[f = f_m\left(\frac{T_w}{T_m}\right)^m\]</p><p>where the coefficients are <span>$n=0.0$</span> and <span>$m=0.0$</span> for the process-side properties and <span>$n=-0.5$</span> and <span>$m=-0.1$</span> for the coolant side<sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup>. The wall temperature is calculated from the overall thermal resistance and the thermal resistance of the coolant side,</p><p class="math-container">\[T_w = T_{c,m} + \frac{T_{p,m}-T_{c,m}}{R_o A_p}\left(\frac{1}{h_c \frac{A_c}{A_p}} + R_{f,c}A_c \frac{A_p}{A_c}\right)\]</p></div></details><h2 id="Structures"><a class="docs-heading-anchor" href="#Structures">Structures</a><a id="Structures-1"></a><a class="docs-heading-anchor-permalink" href="#Structures" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TASOPT.engine.HX_gas" href="#TASOPT.engine.HX_gas"><code>TASOPT.engine.HX_gas</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">HX_gas</code></pre><p>Structure containing the gas properties of the process and coolant streams.</p><details class="admonition is-details"><summary class="admonition-header">üíæ Data fields</summary><div class="admonition-body"><p><strong>Inputs:</strong></p><ul><li><code>fluid_p::String</code>: process fluid name</li><li><code>fluid_c::String</code>: coolant fluid name</li><li><code>alpha_p::Vector{Float64}</code>: process gas composition</li><li><code>igas_c::Float64</code>: coolant gas index, if coolant is a gas</li><li><code>mdot_p::Float64</code>: mass flow rate of process gas (kg/s)</li><li><code>mdot_c::Float64</code>: mass flow rate of coolant gas (kg/s)</li><li><code>Tp_in::Float64</code>: process gas inlet temperature (K)</li><li><code>Tc_in::Float64</code>: coolant gas inlet temperature (K)</li><li><code>pp_in::Float64</code>: process gas inlet pressure (Pa)</li><li><code>pc_in::Float64</code>: coolant gas inlet pressure (Pa)</li><li><code>Mp_in::Float64</code>: process gas inlet Mach number</li><li><code>Mc_in::Float64</code>: coolant gas inlet Mach number</li><li><code>Tp_out::Float64</code>: process gas outlet temperature</li><li><code>Tc_out::Float64</code>: coolant gas outlet temperature</li><li><code>Œîh_p::Float64</code>: enthalpy change across HX (J/kg)</li><li><code>Œîp_p::Float64</code>: pressure drop of process gas across heat exchanger (Pa)</li><li><code>Œîp_c::Float64</code>: pressure drop of coolant gas across tubes (Pa)</li><li><code>Pl_p::Float64</code>: power loss due to pressure drop in process stream (W)</li><li><code>Pl_c::Float64</code>: power loss due to pressure drop in coolant stream (W)</li><li><code>Œµ::Float64</code>: desired heat exchanger effectiveness</li><li><code>recircT::Float64</code>: temperature of recirculating flow at HX inlet (K)</li><li><code>mdot_r::Float64</code>: recirculating flow mass flow rate (kg/s)</li><li><code>h_lat::Float64</code>: latent heat capacity in freestream coolant liquid (J/kg)</li></ul></div></details></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/d2cd9ed3a973c80dad6d539eadcdfbb8b83c58e6/src/engine/hxfun.jl#L7-L37">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TASOPT.engine.HX_tubular" href="#TASOPT.engine.HX_tubular"><code>TASOPT.engine.HX_tubular</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">HX_tubular</code></pre><p>Structure containing the heat exchanger geometric and material properties.</p><details class="admonition is-details"><summary class="admonition-header">üíæ Data fields</summary><div class="admonition-body"><p><strong>Inputs:</strong></p><ul><li><code>fconc::Bool</code>: flag for concentric geometry (true: concentric ; false: rectangular)</li><li><code>frecirc::Bool</code>: flag for recirculation (true: recirculation ; false: no recirculation)</li><li><code>fshaf::Bool</code>: flag for whether HX contains shaf(true: shaft ; false: no shaft)</li><li><code>N_t::Float64</code>: number of tubes per row</li><li><code>n_stages::Float64</code>: number of different coolant stages with different coolant flows</li><li><code>n_passes::Float64</code>: number of coolant passes</li><li><code>A_cs::Float64</code>: process side freestream cross-sectional area (m^2)</li><li><code>l::Float64</code>: length of tubes (m)</li><li><code>t::Float64</code>: cooling tube wall thickness (m)</li><li><code>tD_o::Float64</code>: tube outer diameter (m)</li><li><code>xt_D::Float64</code>: circumferential pitch between tubes at the root over tube outer diameter </li><li><code>xl_D::Float64</code>: longitudinal pitch between rows over tube outer diameter</li><li><code>Rfp::Float64</code>: process-side fouling factor (m^2 K/W)</li><li><code>Rfc::Float64</code>: coolant-side fouling factor (m^2 K/W)</li><li><code>D_i::Float64</code>: inner diameter of core (m)</li><li><code>Œîpdes::Float64</code>: design pressure difference between tube and outside (Pa)</li></ul></div></details></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/d2cd9ed3a973c80dad6d539eadcdfbb8b83c58e6/src/engine/hxfun.jl#L65-L88">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TASOPT.engine.HX_struct" href="#TASOPT.engine.HX_struct"><code>TASOPT.engine.HX_struct</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">HX_struct</code></pre><p>Structure containing all the heat exchanger geometry and operational information.</p><details class="admonition is-details"><summary class="admonition-header">üíæ Data fields</summary><div class="admonition-body"><p><strong>Inputs:</strong></p><ul><li><code>type::String</code>: type of heat exchanger (&quot;PreC&quot;: precooler; &quot;InterC&quot;: intercooler; &quot;Regen&quot;: regenerative; &quot;TurbC&quot;: turbine cooling)</li><li><code>HXgeom::HX_tubular</code>: structure containing the HX geometric information</li><li><code>HXgas_mission::Array{Any}</code>: array containing the gas properties, of type <code>HX_gas</code> for each mission and segment</li></ul></div></details></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/d2cd9ed3a973c80dad6d539eadcdfbb8b83c58e6/src/engine/hxfun.jl#L127-L137">source</a></section></article><h2 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h2><h3 id="Heat-exchanger-sizing-and-off-design-operations"><a class="docs-heading-anchor" href="#Heat-exchanger-sizing-and-off-design-operations">Heat exchanger sizing and off-design operations</a><a id="Heat-exchanger-sizing-and-off-design-operations-1"></a><a class="docs-heading-anchor-permalink" href="#Heat-exchanger-sizing-and-off-design-operations" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TASOPT.engine.hxsize!" href="#TASOPT.engine.hxsize!"><code>TASOPT.engine.hxsize!</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">hxsize!(HXgas, HXgeom)</code></pre><p>Sizes a crossflow heat exchanger and calculates the pressure drop. Uses the Œµ-NTU method to size the heat exchanger from a prescribed Œµ. For representative fouling factors see Standards of the Tubular Exchanger Manufacturers Association or <code>https://powderprocess.net/Tools_html/Data_Diagrams/Heat_Exchanger_Fouling_Factor.html</code></p><details class="admonition is-details"><summary class="admonition-header">üîÉ Inputs and Outputs</summary><div class="admonition-body"><p><strong>Inputs:</strong></p><ul><li><code>HXgas::Struct</code>: structure of type HX_gas with the gas properties</li><li><code>HXgeom::Struct</code>: structure of type HX_tubular with the HX geometric properties</li></ul><p><strong>Outputs:</strong> No direct outputs. Input structures are modified with outlet gas properties and HX design geometry.</p></div></details></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/d2cd9ed3a973c80dad6d539eadcdfbb8b83c58e6/src/engine/hxfun.jl#L144-L158">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TASOPT.engine.hxoper!" href="#TASOPT.engine.hxoper!"><code>TASOPT.engine.hxoper!</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">hxoper!(HXgas, HXgeom)</code></pre><p>Evaluates crossflow heat exchanger performance for off-design operation. Uses the Œµ-NTU  method to calculate effectiveness from prescribed geometry.       </p><details class="admonition is-details"><summary class="admonition-header">üîÉ Inputs and Outputs</summary><div class="admonition-body"><p><strong>Inputs:</strong></p><ul><li><code>HXgas::Struct</code>: structure of type HX_gas with the gas properties</li><li><code>HXgeom::Struct</code>: structure of type HX_tubular with the HX geometric properties</li></ul><p><strong>Outputs:</strong> No direct outputs. Input structures are modified with outlet gas properties.</p></div></details></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/d2cd9ed3a973c80dad6d539eadcdfbb8b83c58e6/src/engine/hxfun.jl#L476-L489">source</a></section></article><h3 id="Optimization"><a class="docs-heading-anchor" href="#Optimization">Optimization</a><a id="Optimization-1"></a><a class="docs-heading-anchor-permalink" href="#Optimization" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TASOPT.engine.hxoptim!" href="#TASOPT.engine.hxoptim!"><code>TASOPT.engine.hxoptim!</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">hxoptim!(HXgas, HXgeom, initial_x)</code></pre><p>Optimizes heat exchanger design parameters for a given set of inputs. Uses the NLopt.jl package. The optimization variables are <code>Mc_in</code>, <code>n_stages</code>, <code>xt_D</code> and <code>l</code>. The length of <code>initial_x</code> is the flag to determine how many parameters  to optimize: if it is 4, all parameters are optimized; if it is 3, the tube length <code>l</code> is assumed to be an input and is not  optimized.</p><details class="admonition is-details"><summary class="admonition-header">üîÉ Inputs and Outputs</summary><div class="admonition-body"><p><strong>Inputs:</strong></p><ul><li><code>HXgas::Struct</code>: structure of type HX_gas with the gas properties</li><li><code>HXgeom::Struct</code>: structure of type HX_tubular with the HX geometric properties</li><li><code>initial_x::Vector{Float64}</code>: vector with the initial guess for the optimization</li></ul><p><strong>Outputs:</strong> No direct outputs. Input structures are modified with HX design geometry.</p></div></details></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/d2cd9ed3a973c80dad6d539eadcdfbb8b83c58e6/src/engine/hxfun.jl#L895-L911">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TASOPT.engine.hxobjf" href="#TASOPT.engine.hxobjf"><code>TASOPT.engine.hxobjf</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">  hxobjf(x, HXgas, HXgeom)</code></pre><p>Objective function for HX optimization in hxoptim!(). It returns the sum of the power dissipated due to pressure drops in the process and coolant streams, with penalty factors to enforce constraints.</p><details class="admonition is-details"><summary class="admonition-header">üîÉ Inputs and Outputs</summary><div class="admonition-body"><p><strong>Inputs:</strong></p><ul><li><code>x::Vector{Float64}</code>: state vector with [<code>100 * Mc_in</code>, <code>l</code>, <code>n_stages</code>, <code>xt_D</code>]</li><li><code>HXgas::Struct</code>: structure of type HX_gas with the gas properties</li><li><code>HXgeom::Struct</code>: structure of type HX_tubular with the HX geometric properties</li></ul><p><strong>Outputs:</strong></p><ul><li><code>Iobj::Float64</code>: objective function (W)</li></ul></div></details></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/d2cd9ed3a973c80dad6d539eadcdfbb8b83c58e6/src/engine/hxfun.jl#L988-L1002">source</a></section></article><h3 id="Overall-design-and-analysis"><a class="docs-heading-anchor" href="#Overall-design-and-analysis">Overall design and analysis</a><a id="Overall-design-and-analysis-1"></a><a class="docs-heading-anchor-permalink" href="#Overall-design-and-analysis" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TASOPT.engine.hxdesign!" href="#TASOPT.engine.hxdesign!"><code>TASOPT.engine.hxdesign!</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">  hxdesign!(pare, pari, ipdes, HXs_prev)</code></pre><p>Heat exchanger design and operation function. It calls hxoptim!() to optimize the heat exchanger at the design point and  then evaluates performance for all missions and points with hxoper!().      </p><details class="admonition is-details"><summary class="admonition-header">üîÉ Inputs and Outputs</summary><div class="admonition-body"><p><strong>Inputs:</strong></p><ul><li><code>pare::Array{Float64 , 3}</code>: array with engine parameters</li><li><code>pari::Vector{Int}</code>: vector with integer parameters</li><li><code>ipdes::Float64</code>: index for design mission segment</li><li><code>HXs_prev::Vector{Any}</code>: vector with heat exchanger data from the previous wsize iteration; elements are <code>HX_struct</code> structures</li><li><code>rlx::Float64</code>: relaxation factor for pare update</li></ul><p><strong>Outputs:</strong></p><ul><li><code>HeatExchangers::Vector{Any}</code>: vector with heat exchanger data; elements are <code>HX_struct</code> structures</li><li>Also modifies <code>pare</code> with the fuel temperature and the HX enthalpy and pressure changes</li></ul></div></details></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/d2cd9ed3a973c80dad6d539eadcdfbb8b83c58e6/src/engine/hxfun.jl#L1061-L1077">source</a></section></article><h3 id="Heating-and-pressure-calculations"><a class="docs-heading-anchor" href="#Heating-and-pressure-calculations">Heating and pressure calculations</a><a id="Heating-and-pressure-calculations-1"></a><a class="docs-heading-anchor-permalink" href="#Heating-and-pressure-calculations" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TASOPT.engine.jcalc_pipe" href="#TASOPT.engine.jcalc_pipe"><code>TASOPT.engine.jcalc_pipe</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">jcalc_pipe(Re_D)</code></pre><p>Calculates the Colburn j-factor and skin-friction coefficient for flow inside a circular pipe,  assuming flow is fully developed and turbulent. Uses the 1913 Blasius correlation.</p><details class="admonition is-details"><summary class="admonition-header">üîÉ Inputs and Outputs</summary><div class="admonition-body"><p><strong>Inputs:</strong></p><ul><li><code>Re_D::Float64</code>: Reynolds number based on pipe diameter</li></ul><p><strong>Outputs:</strong></p><ul><li><code>j::Float64</code>: Colburn j-factor for heat calculations</li><li><code>Cf::Float64</code>: skin-friction coefficient</li></ul></div></details></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/d2cd9ed3a973c80dad6d539eadcdfbb8b83c58e6/src/engine/hxfun.jl#L1409-L1423">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TASOPT.engine.Nu_calc_staggered_cyl" href="#TASOPT.engine.Nu_calc_staggered_cyl"><code>TASOPT.engine.Nu_calc_staggered_cyl</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Nu_calc_staggered_cyl(Re_D, Pr, N_L, xt_D, xl_D)</code></pre><p>Calculates the Nusselt number for cross flow on a set of staggered circular cylinders. Based on the model in A. ≈Ωkauskas. Heat Transfer from Tubes in Crossflow. Advances in Heat Transfer v.18 (1987).</p><details class="admonition is-details"><summary class="admonition-header">üîÉ Inputs and Outputs</summary><div class="admonition-body"><p><strong>Inputs:</strong></p><ul><li><code>Re_D::Float64</code>: Reynolds number based on cylinder diameter with velocity at minimum free flow area</li><li><code>Pr::Float64</code>: Prandtl number</li><li><code>N_L::Float64</code>: number of cylinder rows</li><li><code>n_stages::Float64</code>: number of different coolant stages with different coolant flows</li><li><code>xt_D::Float64</code>: circumferential pitch between tubes over tube outer diameter</li><li><code>xl_D::Float64</code>: longitudinal pitch between rows over tube outer diameter</li></ul><p><strong>Outputs:</strong></p><ul><li><code>Nu::Float64</code>: Nusselt number based on cylinder diameter </li></ul></div></details></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/d2cd9ed3a973c80dad6d539eadcdfbb8b83c58e6/src/engine/hxfun.jl#L1432-L1449">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TASOPT.engine.Œîp_calc_staggered_cyl" href="#TASOPT.engine.Œîp_calc_staggered_cyl"><code>TASOPT.engine.Œîp_calc_staggered_cyl</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Œîp_calc_staggered_cyl(Re, G, L, œÅ, Dv, tD_o, xt_D, xl_D, Œº_Œºw)</code></pre><p>Calculates the pressure drop across a set of staggered cylinders in cross flow. Uses the method of Gunter and Shaw.  A General Correlation of Friction Factors for Various Types of Surfaces in Crossflow. Journal of Fluids Engineering, 1945.</p><details class="admonition is-details"><summary class="admonition-header">üîÉ Inputs and Outputs</summary><div class="admonition-body"><p><strong>Inputs:</strong></p><ul><li><code>Re::Float64</code>: Reynolds number based on hydraulic diameter and minimum free flow area: Re = Dv G /Œº</li><li><code>G::Float64</code>: mass flow rate divided by minimum free flow area. <code>G = mdot / (A_min)</code>, <code>A_min</code> is the minimum free-flow area (kg/s/m^2)</li><li><code>L::Float64</code>: axial channel length (m)</li><li><code>œÅ::Float64</code>: density (kg/m^3)</li><li><code>Dv::Float64</code>: volumetric hydraulic diameter. Dv = 4 * (Net free volume) / (Friction surface)</li><li><code>tD_o::Float64</code>: cylinder outer diameter (m)</li><li><code>xt_D::Float64</code>: circumferential pitch between tubes over tube outer diameter</li><li><code>xl_D::Float64</code>: longitudinal pitch between rows over tube outer diameter</li><li><code>Œº_Œºw::Float64</code>: ratio of free flow viscosity to wall viscosity</li></ul><p><strong>Outputs:</strong></p><ul><li><code>Œîp::Float64</code>: pressure drop across staggered cylinders (Pa)</li></ul></div></details></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/d2cd9ed3a973c80dad6d539eadcdfbb8b83c58e6/src/engine/hxfun.jl#L1485-L1505">source</a></section></article><h3 id="Weight-estimation"><a class="docs-heading-anchor" href="#Weight-estimation">Weight estimation</a><a id="Weight-estimation-1"></a><a class="docs-heading-anchor-permalink" href="#Weight-estimation" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TASOPT.engine.hxweight" href="#TASOPT.engine.hxweight"><code>TASOPT.engine.hxweight</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">  hxweight(gee, HXgeom, fouter)</code></pre><p>Calculates the weight of a heat exchanger with involute tubes.</p><details class="admonition is-details"><summary class="admonition-header">üîÉ Inputs and Outputs</summary><div class="admonition-body"><p><strong>Inputs:</strong></p><ul><li><code>gee::Float64</code>: gravitational acceleration (m/s^2)</li><li><code>HXgeom::Struct</code>: structure of type HX_tubular with the HX geometric and material properties</li><li><code>fouter::Float64</code>: ratio of HX external mass to tube mass</li></ul><p><strong>Outputs:</strong></p><ul><li><code>W_hx::Float64</code>: weight of heat exchanger (N)</li></ul></div></details></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/d2cd9ed3a973c80dad6d539eadcdfbb8b83c58e6/src/engine/hxfun.jl#L1554-L1567">source</a></section></article><section class="footnotes is-size-7"><ul><li class="footnote" id="footnote-1"><a class="tag is-link" href="#citeref-1">1</a>Kays, W. M., &amp; London, A. L. (1984). Compact heat exchangers.</li><li class="footnote" id="footnote-2"><a class="tag is-link" href="#citeref-2">2</a>Standards of the Tubular Exchanger Manufacturers Association</li><li class="footnote" id="footnote-3"><a class="tag is-link" href="#citeref-3">3</a><a href="https://powderprocess.net/Tools_html/Data_Diagrams/Heat_Exchanger_Fouling_Factor.html">Powder Process</a></li><li class="footnote" id="footnote-4"><a class="tag is-link" href="#citeref-4">4</a>≈Ωkauskas, A. (1987). Heat transfer from tubes in crossflow. In Advances in heat transfer (Vol. 18, pp. 87-159). Elsevier.</li><li class="footnote" id="footnote-5"><a class="tag is-link" href="#citeref-5">5</a>Gunter, A. Y., &amp; Shaw, W. A. (1945). A general correlation of friction factors for various types of surfaces in crossflow. Transactions of the American Society of Mechanical Engineers, 67(8), 643-656.</li></ul></section></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../gascalc/">¬´ Gas Calculations</a><a class="docs-footer-nextpage" href="../PEMfuelcell/">PEM fuel cells ¬ª</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Monday 2 December 2024 16:03">Monday 2 December 2024</span>. Using Julia version 1.11.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
