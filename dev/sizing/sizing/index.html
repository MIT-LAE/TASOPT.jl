<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Design and evaluation ¬∑ TASOPT.jl</title><meta name="title" content="Design and evaluation ¬∑ TASOPT.jl"/><meta property="og:title" content="Design and evaluation ¬∑ TASOPT.jl"/><meta property="twitter:title" content="Design and evaluation ¬∑ TASOPT.jl"/><meta name="description" content="Documentation for TASOPT.jl."/><meta property="og:description" content="Documentation for TASOPT.jl."/><meta property="twitter:description" content="Documentation for TASOPT.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">TASOPT.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../examples/loadingrunning/">Loading and running</a></li><li><a class="tocitem" href="../../examples/payload_range/">Payload-range diagram</a></li><li><input class="collapse-toggle" id="menuitem-2-3" type="checkbox"/><label class="tocitem" for="menuitem-2-3"><span class="docs-label">Optimization</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/NM_optimization/">Nelder Mead</a></li><li><a class="tocitem" href="../../examples/gradient_based_optimization/">Gradient Based Optimization</a></li></ul></li><li><a class="tocitem" href="../../examples/sensitivity/">Sensitivities</a></li></ul></li><li><span class="tocitem">Aerodynamics</span><ul><li><a class="tocitem" href="../../aero/aerosummary/">Summary and outputs</a></li><li><a class="tocitem" href="../../aero/geometry/">Geometry</a></li><li><a class="tocitem" href="../../aero/lift/">Lift</a></li><li><a class="tocitem" href="../../aero/drag/">Drag</a></li><li><a class="tocitem" href="../../aero/moment/">Pitching moment</a></li><li><a class="tocitem" href="../../atmos/atmos/">Atmospheric properties</a></li></ul></li><li><span class="tocitem">Structures</span><ul><li><a class="tocitem" href="../../structures/wing/">Wings and tails</a></li><li><a class="tocitem" href="../../structures/fuselage/">Fuselage</a></li><li><a class="tocitem" href="../../structures/landing_gear/">Landing gear</a></li><li><a class="tocitem" href="../../structures/cabin_sizing/">Cabin sizing</a></li></ul></li><li><span class="tocitem">Propulsion systems</span><ul><li><a class="tocitem" href="../../propulsion/propsys/">Propulsion system</a></li><li><a class="tocitem" href="../../propulsion/gascalc/">Gas Calculations</a></li><li><a class="tocitem" href="../../propulsion/hxfun/">Heat exchangers</a></li><li><a class="tocitem" href="../../propulsion/PEMfuelcell/">PEM fuel cells</a></li><li><a class="tocitem" href="../../propulsion/ElectricMachines/">Electric Machines</a></li></ul></li><li><span class="tocitem">Cryogenic tanks</span><ul><li><a class="tocitem" href="../../cryo_tank/fueltanks/">Thermal and structural models</a></li><li><a class="tocitem" href="../../cryo_tank/cryotank/">Homogeneous model</a></li></ul></li><li><a class="tocitem" href="../../balance/balance/">Stability</a></li><li><span class="tocitem">Mission and sizing</span><ul><li class="is-active"><a class="tocitem" href>Design and evaluation</a><ul class="internal"><li><a class="tocitem" href="#[Sizing-the-aircraft]-(@id-sizing)"><span>[Sizing the aircraft] (@id sizing)</span></a></li><li><a class="tocitem" href="#[Mission-evaluation]-(@id-mission)"><span>[Mission evaluation] (@id mission)</span></a></li><li><a class="tocitem" href="#[On-and-off-design-performance]-(@id-missionexec)"><span>[On- and off-design performance] (@id missionexec)</span></a></li><li><a class="tocitem" href="#Function-documentation"><span>Function documentation</span></a></li></ul></li><li><a class="tocitem" href="../weightmodels/">TASOPT Weight Model</a></li></ul></li><li><span class="tocitem">Data and I/O</span><ul><li><a class="tocitem" href="../../data_io/data_basics/">Data structure basics</a></li><li><a class="tocitem" href="../../data_io/structs/">Data structure details</a></li><li><a class="tocitem" href="../../data_io/data_io/">Loading and saving models</a></li></ul></li><li><span class="tocitem">Miscellaneous</span><ul><li><a class="tocitem" href="../../misc/dreladocs/">Original Drela docs</a></li><li><a class="tocitem" href="../../misc/fordevs/">Notes for devs</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Mission and sizing</a></li><li class="is-active"><a href>Design and evaluation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Design and evaluation</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/MIT-LAE/TASOPT.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands">ÔÇõ</span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/MIT-LAE/TASOPT.jl/blob/main/docs/src/sizing/sizing.md" title="Edit source on GitHub"><span class="docs-icon fa-solid">ÔÅÑ</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Design-and-evaluation"><a class="docs-heading-anchor" href="#Design-and-evaluation">Design and evaluation</a><a id="Design-and-evaluation-1"></a><a class="docs-heading-anchor-permalink" href="#Design-and-evaluation" title="Permalink"></a></h1><h2 id="[Sizing-the-aircraft]-(@id-sizing)"><a class="docs-heading-anchor" href="#[Sizing-the-aircraft]-(@id-sizing)">[Sizing the aircraft] (@id sizing)</a><a id="[Sizing-the-aircraft]-(@id-sizing)-1"></a><a class="docs-heading-anchor-permalink" href="#[Sizing-the-aircraft]-(@id-sizing)" title="Permalink"></a></h2><p>The aircraft is sized via a fixed point iteration for the design mission (<a href="#TASOPT.size_aircraft!"><code>size_aircraft!()</code></a>). The performance of the design can be evaluated for the design (<code>imission</code> = 1) and off-design (<code>imission</code> &gt;= 2) missions via <a href="#TASOPT.fly_mission!"><code>fly_mission!()</code></a>.</p><p><a href="#TASOPT.size_aircraft!"><code>size_aircraft!()</code></a> is typically the driving function in an analysis, as in the [first example] (@ref firstexample). The sizing analysis calls the various performance subroutines (e.g., <code>fuselage_drag!()</code>, <code>wing_weights!()</code>, <code>aircraft_drag!()</code>, <code>_mission_iteration!()</code>, etc.) as shown in the <a href="../../misc/dreladocs/#flowchart">TASOPT flowchart</a>. These subroutines are called automatically within <a href="#TASOPT._size_aircraft!"><code>_size_aircraft!()</code></a>, which is wrapped by the user-facing <a href="#TASOPT.size_aircraft!"><code>size_aircraft!()</code></a>.</p><details class="admonition is-details" id="Code-structure-Aircraft-sizing-90fe1a10852efb04"><summary class="admonition-header">üñ•Ô∏è Code structure - Aircraft sizing<a class="admonition-anchor" href="#Code-structure-Aircraft-sizing-90fe1a10852efb04" title="Permalink"></a></summary><div class="admonition-body"><p>The aircraft-sizing function requires an <code>aircraft</code> object as input. See <a href="../../data_io/data_io/#TASOPT.read_aircraft_model-Tuple{}"><code>read_aircraft_model()</code></a> to get an idea of the fields that are required in this object. This object is unpacked into storage arrays and other component objects, such as <code>wing</code>, <code>fuselage</code> or <code>engine</code>. The eventual aim is to eliminate all data storage array and replace them by component objects but this is still work in progress.  </p><p>The first major function called within <a href="#TASOPT.size_aircraft!"><code>size_aircraft!()</code></a> is <a href="#TASOPT.aerodynamics.fuselage_drag!"><code>fuselage_drag!()</code></a>, which calculates the fuselage boundary layer properties and drag coefficients for start-of-cruise; these are then used in other mission points. <a href="#TASOPT.size_aircraft!"><code>size_aircraft!()</code></a> then uses simplified methods to initialize the relevant aircraft weights and parameters, unless the user specifies otherwise with an optional input (<code>init_weight=true</code>). The bulk of the computational cost and time is spent in the weight sizing loop. After the weight sizing loop is completed, the aircraft takeoff performance and field lengths are calculated using <a href="#TASOPT.takeoff!-Tuple{Any}"><code>takeoff!()</code></a>.</p><h3>Weight sizing loop</h3><p><a href="#TASOPT.size_aircraft!"><code>size_aircraft!()</code></a> performs a fixed point iteration by sequentially running weight and performance models for the different aircraft components. This is done via a <code>for</code> loop that gets terminated once the maximum aircraft weight has converged within a desired tolerance. The solver will fail to converge for infeasible combinations of aircraft and missions. The solver may fail to converge due to poor initial guesses (or conditioning); this can be addressed by adjusting the initial guess or raising the maximum number of iterations.</p><p>The fuselage weight is calculated first in the sizing loop through <a href="../../structures/fuselage/#TASOPT.structures.fusew!"><code>fusew!()</code></a>. Then, the total maximum takeoff weight gets recomputed and there is a check for whether the sizing loop is terminated. If weight has not converged, the loop continues.</p><p>The wing geometry is set by running <a href="#TASOPT.aerodynamics.set_wing_geometry!"><code>set_wing_geometry!()</code></a> and the wing pitching moments are computed through <a href="#TASOPT.aerodynamics.wing_CM"><code>wing_CM()</code></a>. The horizontal and vertical tail geometry is computed through <a href="#TASOPT.aerodynamics.tail_loading!"><code>tail_loading!()</code></a>. Finally, the weights of the three aerodynamic surfaces are calculated by running <a href="#TASOPT.structures.wing_weights!"><code>wing_weights!()</code></a>.</p><p>If the aircraft requires an insulated fuel tank in the fuselage, for example, if the fuel is cryogenic, the tank is sized using <a href="../../cryo_tank/fueltanks/#TASOPT.CryoTank.tanksize!"><code>tanksize!()</code></a>; this function calculates the structural weight and sizes the thermal insulation. For details on how the fuel tank is sized, see <a href="../../cryo_tank/fueltanks/#fueltanks">Fuel tanks</a>. The sized tank dimensions are then use to recalculate the fuselage geometry to accommodate the tank in <a href="#TASOPT.structures.update_fuse!"><code>update_fuse!()</code></a>.</p><p>The weight and balance of the aircraft at start-of-cruise is adjusted using <a href="../../balance/balance/#TASOPT.balance_aircraft!"><code>balance_aircraft!()</code></a>. This can move the wing, resize the horizontal tail, or change the tail trim to achieve a desired metric for longitudinal stability (e.g., a set static margin).</p><p>The total drag at start-of-cruise, which is the engine design point, is calculated using <a href="../../aero/drag/#TASOPT.aerodynamics.aircraft_drag!-Tuple{Any, Int64, Int64, Bool}"><code>aircraft_drag!()</code></a>. This function calls a combination of models for the drag of aerodynamic surfaces, engine nacelle, and induced drag at the Trefftz plane.</p><p>The engines are sized at the start-of-cruise to produce a total thrust force equal to the aircraft drag, as computed by <code>aircraft.engine.enginecalc!()</code>, a <em>specifiable</em> function in the <code>engine</code> object. This field stores a user defined function for the engine performance. Although the user is free to use alternative models by modifying the <code>engine</code> object, TASOPT currently includes a two-spool turbofan engine model. The turbofan engine functions are called via a wrapper, <a href="#TASOPT.engine.tfwrap!"><code>tfwrap!()</code></a>, which in turns calls the engine calculation function <a href="../../propulsion/propsys/#TASOPT.engine.tfcalc!"><code>tfcalc!()</code></a>.</p><p>Once the engines are sized, the fuel demand at every point in the mission is calculated using <a href="#TASOPT._mission_iteration!-Tuple{Any, Any, Any}"><code>_mission_iteration!()</code></a>. This function in turn recalculates the balance, drag, and engine performance at every point. Further details on mission are provided below. <a href="#TASOPT._mission_iteration!-Tuple{Any, Any, Any}"><code>_mission_iteration!()</code></a> is usually the greatest time sink in an aircraft sizing. The weight gets updated after running <a href="#TASOPT._mission_iteration!-Tuple{Any, Any, Any}"><code>_mission_iteration!()</code></a> and the loop restarts.</p></div></details><h2 id="[Mission-evaluation]-(@id-mission)"><a class="docs-heading-anchor" href="#[Mission-evaluation]-(@id-mission)">[Mission evaluation] (@id mission)</a><a id="[Mission-evaluation]-(@id-mission)-1"></a><a class="docs-heading-anchor-permalink" href="#[Mission-evaluation]-(@id-mission)" title="Permalink"></a></h2><p>The function <a href="#TASOPT._mission_iteration!-Tuple{Any, Any, Any}"><code>_mission_iteration!()</code></a> contains the fuel burn calculation for the entire mission. It can be used both in sizing, as part of the iteration to obtain a converged aircraft, or in off-design, to calculate the performance of an already-designed airplane. Rather than calling <a href="#TASOPT._mission_iteration!-Tuple{Any, Any, Any}"><code>_mission_iteration!()</code></a> directly, users should call its user-facing wrapper, <a href="#TASOPT.fly_mission!"><code>fly_mission!()</code></a>.</p><details class="admonition is-details" id="Code-structure-Mission-77570fa5582afb60"><summary class="admonition-header">üñ•Ô∏è Code structure - Mission<a class="admonition-anchor" href="#Code-structure-Mission-77570fa5582afb60" title="Permalink"></a></summary><div class="admonition-body"><p>The <a href="#TASOPT._mission_iteration!-Tuple{Any, Any, Any}"><code>_mission_iteration!()</code></a> function simulates the entire mission of an aircraft, calculating fuel burn and other mission variables.</p><p>From the altitude, the function sets the initial conditions including temperature, pressure, and density <a href="../../atmos/atmos/#TASOPT.atmosphere.atmos"><code>atmos()</code></a>. Then, the lift coefficient is interpolated over the climb and descent points to ensure smooth transitions between different phases of the mission.</p><p>Next, the function estimates the takeoff speed and sets the velocity and Reynolds number over the climb and descent points. This involves calculating the takeoff lift coefficient and using it to estimate the takeoff speed. The Reynolds number is then calculated based on the takeoff speed and other atmospheric conditions.</p><p>The function proceeds to calculate the climb and descent parameters using aerodynamic and engine performance models. It integrates the climb and descent trajectories using a predictor-corrector scheme to update the range, time, and weight fractions.</p><p>Once the climb and descent parameters are set, the function sets the conditions for the cruise phase, including altitude, speed, and fuel consumption. It calculates the fuel burn and weight fractions for the entire mission via calls to <code>engine.enginecalc!()</code>, and adds any vented fuel. This involves adjusting the aircraft&#39;s balance and trim settings via calls to <a href="../../balance/balance/#TASOPT.balance_aircraft!"><code>balance_aircraft!()</code></a> to ensure stability throughout the mission, and recalculating the drag via <a href="../../aero/drag/#TASOPT.aerodynamics.aircraft_drag!-Tuple{Any, Int64, Int64, Bool}"><code>aircraft_drag!()</code></a>.</p><p>The function also sets up the climb points at equal altitude intervals and calculates the available thrust assuming maximum-throttle climb. It initializes the climb integrands and integrates the trajectory over the climb phase. The function calculates the cruise-climb angle based on available thrust and atmospheric conditions.</p><p>The descent phase is then set up, with the function interpolating the descent points and integrating the time and weight over the descent. It calculates the velocity, Mach number, and Reynolds number for each descent point and adjusts the pitch trim by adjusting the horizontal tail lift coefficient.</p><p>Finally, the function calculates the mission fuel fractions and weights, including the weight of any vented fuel; it updates the mission parameters, such as the takeoff and fuel weights, and computes the mission&#39;s payload-fuel energy intensity (PFEI; a productivity-specific energy metric in kJ/kg-km),</p><p class="math-container">\[\mathrm{PFEI} = \frac{W_{f,b}\mathrm{LHV}}{g W_{pay} R},\]</p><p>where <span>$W_{f,b}$</span> is the mission fuel burn weight, <span>$\mathrm{LHV}$</span> is the fuel&#39;s lower heating value, <span>$g$</span> is the acceleration of gravity, <span>$W_{pay}$</span> is the payload weight, and <span>$R$</span> is the mission range.</p></div></details><h2 id="[On-and-off-design-performance]-(@id-missionexec)"><a class="docs-heading-anchor" href="#[On-and-off-design-performance]-(@id-missionexec)">[On- and off-design performance] (@id missionexec)</a><a id="[On-and-off-design-performance]-(@id-missionexec)-1"></a><a class="docs-heading-anchor-permalink" href="#[On-and-off-design-performance]-(@id-missionexec)" title="Permalink"></a></h2><p>The function <a href="#TASOPT.fly_mission!"><code>fly_mission!()</code></a> can calculate the off-design performance of a <em>sized</em> aircraft: it runs the aircraft through a mission with different range, payload, and conditions to the design mission. For this purpose, it calls <a href="#TASOPT._mission_iteration!-Tuple{Any, Any, Any}"><code>_mission_iteration!()</code></a> and iterates the fuel burn until a converged takeoff mass is reached. If called on the design mission, the on-design performance is recovered. See <a href="#TASOPT.PayloadRange"><code>PayloadRange()</code></a> for an example of how <a href="#TASOPT.fly_mission!"><code>fly_mission!()</code></a> can be used.</p><h2 id="Function-documentation"><a class="docs-heading-anchor" href="#Function-documentation">Function documentation</a><a id="Function-documentation-1"></a><a class="docs-heading-anchor-permalink" href="#Function-documentation" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="TASOPT.size_aircraft!"><a class="docstring-binding" href="#TASOPT.size_aircraft!"><code>TASOPT.size_aircraft!</code></a> ‚Äî <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">size_aircraft(ac::aircraft; iter=35, initwgt=false, Ldebug=false,
    printiter=true, saveOD=false)</code></pre><p>sizes the given <code>aircraft</code> instance. A light wrapper around the <code>_size_aircraft!</code> function, which does the actual work.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/4c77af0f25938bf38909308cbf6cdad94e17e78a/src/TASOPT.jl#L122-L127">source</a></section></details></article><article><details class="docstring" open="true"><summary id="TASOPT._size_aircraft!"><a class="docstring-binding" href="#TASOPT._size_aircraft!"><code>TASOPT._size_aircraft!</code></a> ‚Äî <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">_size_aircraft!(ac; itermax=35,
wrlx1=0.5, wrlx2=0.9, wrlx3=0.5, initwgt=false, initializes_engine=true, 
iairf=1, Ldebug=false, printiter=true)</code></pre><p>Main weight sizing function. Calls on various sub-functions to calculate weight of fuselage, wings, tails, etc., and iterates until the MTOW converges to within a specified tolerance. Formerly, <code>wsize()</code>.</p><div class="admonition is-warning" id="Warning-a28c80f12f946665"><header class="admonition-header">Warning<a class="admonition-anchor" href="#Warning-a28c80f12f946665" title="Permalink"></a></header><div class="admonition-body"><p><code>_size_aircraft!()</code> Should not be called directly by users, instead use <code>size_aircraft!()</code>.</p></div></div><details class="admonition is-details" id="Inputs-and-Outputs-50c74cdb1ae395aa"><summary class="admonition-header">üîÉ Inputs and Outputs<a class="admonition-anchor" href="#Inputs-and-Outputs-50c74cdb1ae395aa" title="Permalink"></a></summary><div class="admonition-body"><p><strong>Inputs:</strong></p><ul><li>Array of flags that control design choices - fuel types, where to store fuel, etc.</li><li>Geometric and structural parameters - dimensions primarily</li><li>Aerodynamic parameters - CL, CD, KE dissipation, etc.</li><li>Mission-specific parameters - alt, mach, P, T etc.</li><li>Engine-specific parameters </li></ul><p><strong>Outputs:</strong></p><ul><li>No explicit outputs. Computed quantities are saved to <code>par</code> arrays of <code>aircraft</code> model.</li></ul></div></details></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/4c77af0f25938bf38909308cbf6cdad94e17e78a/src/sizing/size_aircraft.jl#L2-L23">source</a></section></details></article><article><details class="docstring" open="true"><summary id="TASOPT.fly_mission!"><a class="docstring-binding" href="#TASOPT.fly_mission!"><code>TASOPT.fly_mission!</code></a> ‚Äî <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">fly_mission!(ac, imission, itermax, initializes_engine, opt_prescribed_cruise_parameter)</code></pre><p>Runs the aircraft through the specified mission, computing and converging the fuel weight. Formerly, <code>fly_offdesign_mission!()</code>.</p><details class="admonition is-details" id="Inputs-and-Outputs-b6e7418643b668c3"><summary class="admonition-header">üîÉ Inputs and Outputs<a class="admonition-anchor" href="#Inputs-and-Outputs-b6e7418643b668c3" title="Permalink"></a></summary><div class="admonition-body"></div></details><p><strong>Inputs:</strong></p><ul><li><code>ac::aircraft</code>: Aircraft with first mission being the design mission</li><li><code>imission::Int64</code>: Off design mission to run (Default: 1)</li><li><code>itermax::Int64</code>: Maximum iterations for sizing loop</li><li><code>initializes_engine::Boolean</code>: Use design case as initial guess for engine state if true</li><li><code>opt_prescribed_cruise_parameter::String</code>: option for whether cruise altitude or lift coefficient is specified. Options are &quot;altitude&quot; or &quot;lift_coefficient&quot;</li></ul><p><strong>Outputs:</strong></p><ul><li>No explicit outputs. Computed quantities are saved to <code>par</code> arrays of <code>aircraft</code> model for the mission selected</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/4c77af0f25938bf38909308cbf6cdad94e17e78a/src/mission/fly_mission.jl#L1-L16">source</a></section></details></article><article><details class="docstring" open="true"><summary id="TASOPT.aerodynamics.fuselage_drag!"><a class="docstring-binding" href="#TASOPT.aerodynamics.fuselage_drag!"><code>TASOPT.aerodynamics.fuselage_drag!</code></a> ‚Äî <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">fuselage_drag!(fuse, parg, para, ip)</code></pre><p>Calculates surface velocities, boundary layer, wake  for a quasi-axisymmetric body in compressible flow. Formerly, <code>fusebl!()</code>.</p><p>A compressible source line represents the potential flow. An integral BL formulation with lateral divergence represents the surface BL and wake. An added-source distribution represents the viscous displacement influence on the potential flow. The body shape is defined by its area and perimeter distributions <code>A(x)</code>,  <code>b0(x)</code>, which are defined by the various geometric parameters in <code>parg</code>. </p><details class="admonition is-details" id="Inputs-and-Outputs-d22b57354354965d"><summary class="admonition-header">üîÉ Inputs and Outputs<a class="admonition-anchor" href="#Inputs-and-Outputs-d22b57354354965d" title="Permalink"></a></summary><div class="admonition-body"><p><strong>Inputs:</strong></p><ul><li><code>fuse::Fuselage</code>: Fuselage model object.</li><li><code>parg::AbstractArray{Float64}</code>: Vector of <code>aircraft</code> model geometry parameters.</li><li><code>para::AbstractArray{Float64}</code>: Vector of <code>aircraft</code> model aerodynamic parameters.</li><li><code>parm::AbstractArray{Float64}</code>: Vector of <code>aircraft</code> model mission parameters.</li><li><code>ip::Integer</code>: Index of flight point in <code>par</code> arrays.</li></ul><p><strong>Outputs:</strong></p><ul><li>No explicit outputs. Computed drag values are saved to <code>para</code> of <code>aircraft</code> model.</li></ul></div></details><p>See <a href="../../assets/drela_TASOPT_2p16/axibl.pdf">Simplified Viscous/Inviscid Analysis for Nearly-Axisymmetric Bodies</a>. See also <a href="../../aero/drag/#TASOPT.aerodynamics._axisymm_BL-NTuple{10, Any}"><code>_axisymm_BL</code></a> and <a href="../../aero/drag/#TASOPT.aerodynamics._axisymm_flow-NTuple{16, Any}"><code>_axisymm_flow</code></a>.</p><div class="admonition is-compat" id="Future-Changes-d55963a6d9505ffc"><header class="admonition-header">Future Changes<a class="admonition-anchor" href="#Future-Changes-d55963a6d9505ffc" title="Permalink"></a></header><div class="admonition-body"><p>In an upcoming revision, an <code>aircraft</code> <code>struct</code> and auxiliary indices will be passed in lieu of pre-sliced <code>par</code> arrays.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/4c77af0f25938bf38909308cbf6cdad94e17e78a/src/aero/fuselage_drag.jl#L3-L32">source</a></section></details></article><article><details class="docstring" open="true"><summary id="TASOPT.aerodynamics.set_wing_geometry!"><a class="docstring-binding" href="#TASOPT.aerodynamics.set_wing_geometry!"><code>TASOPT.aerodynamics.set_wing_geometry!</code></a> ‚Äî <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">set_wing_geometry!(W, CL, qinf, wing)</code></pre><p>Sizes wing area, span, root chord from <code>q</code>, <code>CL</code>, <code>W</code>, <code>AR</code> at given point (taken as start-of-cruise in <code>size_aircraft!</code>).</p><details class="admonition is-details" id="Inputs-and-Outputs-68d62d64d2e7c355"><summary class="admonition-header">üîÉ Inputs and Outputs<a class="admonition-anchor" href="#Inputs-and-Outputs-68d62d64d2e7c355" title="Permalink"></a></summary><div class="admonition-body"><p><strong>Inputs:</strong></p><ul><li><code>W::Float64</code>: Aircraft weight.</li><li><code>CL::Float64</code>: Lift coefficient.</li><li><code>qinf::Float64</code>: Freestream dynamic head.</li><li><code>wing::TASOPT.structures.Wing</code>: Wing structure </li></ul></div></details><p>See Sections 2.5 and 3.4.1 of the <a href="../../misc/dreladocs/#dreladocs">TASOPT Technical Desc</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/4c77af0f25938bf38909308cbf6cdad94e17e78a/src/aero/wing_loading.jl#L3-L16">source</a></section></details></article><article><details class="docstring" open="true"><summary id="TASOPT.aerodynamics.wing_CM"><a class="docstring-binding" href="#TASOPT.aerodynamics.wing_CM"><code>TASOPT.aerodynamics.wing_CM</code></a> ‚Äî <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">wing_CM(b,bs,bo, sweep, Xaxis,
                   Œªt, Œªs, Œ≥t, Œ≥s,
                   AR, fLo, fLt, cmpo, cmps, cmpt)</code></pre><p>Calculates components of wing pitching moment (<span>$C_M$</span>) about wing root axis:</p><p><span>$C_M = C_{M,0} + C_{M,1} (C_L - C_{L,surf})$</span></p><p><span>$ŒîC_{m, surf} = ŒîC_{m, 0} + dC‚Çò/dCL √ó (C_L - C_{L,h})$</span></p><p>Formerly, <code>surfcm()</code>.</p><details class="admonition is-details" id="Inputs-and-Outputs-10126d9d9e678c42"><summary class="admonition-header">üîÉ Inputs and Outputs<a class="admonition-anchor" href="#Inputs-and-Outputs-10126d9d9e678c42" title="Permalink"></a></summary><div class="admonition-body"><p><strong>Inputs:</strong></p><ul><li><code>b::Float64</code>: Span.</li><li><code>bs::Float64</code>: Outer panel break span.</li><li><code>bo::Float64</code>: Root (fuselage) span.</li><li><code>sweep::Float64</code>: Sweep, degrees.</li></ul><p>-	<code>Xaxis::Float64</code>: Surface axis position.</p><ul><li><code>Œªt::Float64</code>: Outer-panel chord taper ratio  ct/co.</li><li><code>Œªs::Float64</code>: Inner-panel chord taper ratio  cs/co.</li><li><code>Œ≥t::Float64</code>: Outer-panel load  taper ratio  pt/po.</li><li><code>Œ≥s::Float64</code>: Inner-panel load  taper ratio  ps/po.</li><li><code>AR::Float64</code>: Surface aspect ratio.</li><li><code>fLo::Float64</code>, <code>fLt::Float64</code> : Wing root and tip load adjustment factors.</li><li><code>cmpo::Float64</code>,<code>cmps::Float64</code>,<code>cmpt::Float64</code>: Perpendicular sectional lift coefficient at wing root, break (&quot;snag&quot;), and tip.</li></ul><p><strong>Outputs:</strong></p><ul><li><code>CM0::Float64</code>: Zero-lift surface pitching moment.</li><li><code>CM1::Float64</code>: Surface pitching moment including lift contribution.</li></ul></div></details><p>See Section 2.6.3 of the <a href="../../misc/dreladocs/#dreladocs">TASOPT Technical Desc</a>. See also <a href="../../aero/drag/#TASOPT.aerodynamics.wing_profiledrag_scaled-NTuple{15, Any}"><code>wing_profiledrag_scaled</code></a> and <a href="../../aero/drag/#TASOPT.aerodynamics.wing_profiledrag_direct-NTuple{13, Any}"><code>wing_profiledrag_direct</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/4c77af0f25938bf38909308cbf6cdad94e17e78a/src/aero/wing_loading.jl#L163-L198">source</a></section></details></article><article><details class="docstring" open="true"><summary id="TASOPT.aerodynamics.tail_loading!"><a class="docstring-binding" href="#TASOPT.aerodynamics.tail_loading!"><code>TASOPT.aerodynamics.tail_loading!</code></a> ‚Äî <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">tail_loading!(tail,S,qne; t_fac = 1.0)</code></pre><p>Calculates stabilizer span, root chord, and root loading based on the  never-exceed dynamic pressure, maximum CL, sweep, and aspect ratio. Formerly, <code>tailpo!()</code>.</p><details class="admonition is-details" id="Inputs-and-Outputs-e07f71165c87666e"><summary class="admonition-header">üîÉ Inputs and Outputs<a class="admonition-anchor" href="#Inputs-and-Outputs-e07f71165c87666e" title="Permalink"></a></summary><div class="admonition-body"><p><strong>Inputs:</strong></p><ul><li><code>tail::TASOPT.structures.tail</code>: Tail structure.</li><li><code>S::Float64</code>: Stabilizer area.</li><li><code>qne::Float64</code>: Never-exceed dynamic pressure.</li><li><code>t_fac::Float64</code>: Tail Factor (1 for Htail/Wing, 2 for Vtail).</li></ul><p><strong>Outputs:</strong></p><ul><li><code>po::Float64</code>: Stabilizer root loading.</li><li><code>b::Float64</code>: Stabilizer wingspan.</li></ul></div></details><p>See <a href="../../aero/geometry/#geometry">Geometry</a> or Section 2.3.2 and 2.9.6 of the <a href="../../misc/dreladocs/#dreladocs">TASOPT Technical Description</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/4c77af0f25938bf38909308cbf6cdad94e17e78a/src/aero/wing_loading.jl#L134-L152">source</a></section></details></article><article><details class="docstring" open="true"><summary id="TASOPT.structures.wing_weights!"><a class="docstring-binding" href="#TASOPT.structures.wing_weights!"><code>TASOPT.structures.wing_weights!</code></a> ‚Äî <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">wing_weights!(wing, po, gammat, gammas, 
   Nload, We, neout, dyeout, neinn, dyeinn, sigfac, rhofuel; n_wings=2.0)</code></pre><p>Calculates Wing or Tail loads, stresses, weights of individual wing sections. Also returns the material gauges, torsional and bending stiffness. Formerly, <code>get_wing_weights!()</code>.</p><details class="admonition is-details" id="Inputs-and-Outputs-5adf3dec4645e69d"><summary class="admonition-header">üîÉ Inputs and Outputs<a class="admonition-anchor" href="#Inputs-and-Outputs-5adf3dec4645e69d" title="Permalink"></a></summary><div class="admonition-body"><p><strong>Inputs:</strong></p><ul><li><code>wing::TASOPT.structures.Wing</code>: Wing structure.</li><li><code>po::Float64</code>: Wing root loading magnitude.</li><li><code>gammat::Float64</code>: Wing outer section taper ratio.</li><li><code>gammas::Float64</code>: Wing inner section taper ratio.</li><li><code>Nload::Int</code>: Max vertical load factor for wing bending loads.</li><li><code>We::Float64</code>: Weight of the engine.</li><li><code>neout::Int</code>:  Number of engines mounted outboard of the wing break (strut attachment point).</li><li><code>dyeout::Float64</code>: Spanwise moment arm for outboard engines, measured from the wing break station.</li><li><code>neinn::Int</code>: Number of engines mounted inboard of the wing break (strut attachment point).</li><li><code>dyeinn::Float64</code>: Spanwise moment arm for inboard engines, measured from the wing break station.</li><li><code>sigfac::Float64</code>: Stress Factor.</li><li><code>rhofuel::Float64</code>: Density of the fuel.</li><li><code>n_wings::Int64</code>: Number of total wings (1 for Vtail).</li></ul></div></details><p>See <a href="../../aero/geometry/#geometry">Geometry</a>,  <a href="../../structures/wing/#wingtail">Wing/Tail Structures</a>, and Section 2.7  of the <a href="../../misc/dreladocs/#dreladocs">TASOPT Technical Description</a>. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/4c77af0f25938bf38909308cbf6cdad94e17e78a/src/structures/wing_weights.jl#L52-L76">source</a></section></details></article><article><details class="docstring" open="true"><summary id="TASOPT.structures.update_fuse!"><a class="docstring-binding" href="#TASOPT.structures.update_fuse!"><code>TASOPT.structures.update_fuse!</code></a> ‚Äî <span class="docstring-category">Function</span></summary><section><div><p>update_fuse!(ac, imission)</p><p>Function to update the fuselage layout when there is a change in fuselage fuel-tank length.</p><details class="admonition is-details" id="Inputs-and-Outputs-d8d6084b47a1fc09"><summary class="admonition-header">üîÉ Inputs and Outputs<a class="admonition-anchor" href="#Inputs-and-Outputs-d8d6084b47a1fc09" title="Permalink"></a></summary><div class="admonition-body"><p><strong>Inputs:</strong></p><ul><li><code>ac::aircraft</code>: object with aircraft parameters</li><li><code>imission::Int64</code>: mission index</li></ul><p><strong>Outputs:</strong> No direct outputs; parameters in <code>ac</code> are modified.</p></div></details></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/4c77af0f25938bf38909308cbf6cdad94e17e78a/src/structures/update_fuse.jl#L2-L14">source</a></section></details></article><article><details class="docstring" open="true"><summary id="TASOPT.engine.tfwrap!"><a class="docstring-binding" href="#TASOPT.engine.tfwrap!"><code>TASOPT.engine.tfwrap!</code></a> ‚Äî <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">tfwrap!(ac, case, imission, ip, initializes_engine, iterw = 0)</code></pre><p>Calls the turbofan sizing or off-design performance functions for the aircraft&#39;s turbofan model. This function is basically a wrapper on tfcalc!, going from the basic engine inputs to those required by the function and storing the outputs.</p><details class="admonition is-details" id="Inputs-and-Outputs-17b7371cf95d91f7"><summary class="admonition-header">üîÉ Inputs and Outputs<a class="admonition-anchor" href="#Inputs-and-Outputs-17b7371cf95d91f7" title="Permalink"></a></summary><div class="admonition-body"><p><strong>Input:</strong></p><ul><li><code>ac::aircraft</code>: aircraft object</li><li><code>case::String</code>: case identifier, e.g. &quot;sizing&quot; or &quot;off_design&quot;</li><li><code>imission::Int64</code>: mission index</li><li><code>ip::Int64</code>: mission point index</li><li><code>initializes_engine::Bool</code>: flag to initialize engine:<ul><li><code>true</code>: initialize variables for iteration in engine</li><li><code>false</code>: use current variables as initial guesses in engine</li></ul></li><li><code>iterw::Int64</code>: sizing loop iteration</li></ul><p><strong>Output:</strong> No direct outputs. The <code>ac</code> object gets modified with the engine parameters.</p></div></details></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/4c77af0f25938bf38909308cbf6cdad94e17e78a/src/engine/turbofan/tfwrap.jl#L1-L22">source</a></section></details></article><article><details class="docstring" open="true"><summary id="TASOPT._mission_iteration!-Tuple{Any, Any, Any}"><a class="docstring-binding" href="#TASOPT._mission_iteration!-Tuple{Any, Any, Any}"><code>TASOPT._mission_iteration!</code></a> ‚Äî <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">_mission_iteration!(ac, imission, Ldebug; calculate_cruise = false)</code></pre><p>Runs aircraft through mission, calculating fuel burn and other mission variables. Formerly, <code>mission!()</code>.</p><details class="admonition is-details" id="Inputs-and-Outputs-5c62c6692ad5bf93"><summary class="admonition-header">üîÉ Inputs and Outputs<a class="admonition-anchor" href="#Inputs-and-Outputs-5c62c6692ad5bf93" title="Permalink"></a></summary><div class="admonition-body"><p><strong>Inputs:</strong></p><ul><li><code>ac::aircraft</code>: aircraft data storage object</li><li><code>imission::Int64</code>: mission index</li><li><code>Ldebug::Bool</code>: debugging flag</li></ul></div></details><p>NOTE:  This routine assumes that estimates of the climb-leg flight path  gamma angles are passed in via para[iagamV,ipclimb1:ipclimbn]. These appear as cos(gamma) factors in the climb equations, and can be passed in as zero with only a minor error. They are updated and returned in the same para[iagamV,ip] array.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/4c77af0f25938bf38909308cbf6cdad94e17e78a/src/mission/mission_iteration.jl#L1-L20">source</a></section></details></article><article><details class="docstring" open="true"><summary id="TASOPT.takeoff!-Tuple{Any}"><a class="docstring-binding" href="#TASOPT.takeoff!-Tuple{Any}"><code>TASOPT.takeoff!</code></a> ‚Äî <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">takeoff!(ac)</code></pre><p>Calculates takeoff parameters and balanced field length. The aircraft must be defined in parg array. The ipstatic and iprotate points are assumed to exist.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/4c77af0f25938bf38909308cbf6cdad94e17e78a/src/mission/takeoff.jl#L2-L8">source</a></section></details></article><article><details class="docstring" open="true"><summary id="TASOPT.PayloadRange"><a class="docstring-binding" href="#TASOPT.PayloadRange"><code>TASOPT.PayloadRange</code></a> ‚Äî <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">PayloadRange(ac_og; Rpts, Ppts, plots_OEW, filename, itermax, initializes_engine, Ldebug)</code></pre><p>Function to plot a payload range diagram for an aircraft</p><details class="admonition is-details" id="Inputs-and-Outputs-1c1b0490d1b60a5d"><summary class="admonition-header">üîÉ Inputs and Outputs<a class="admonition-anchor" href="#Inputs-and-Outputs-1c1b0490d1b60a5d" title="Permalink"></a></summary><div class="admonition-body"><p><strong>Inputs:</strong></p><ul><li><code>ac_og::aircraft</code>: Aircraft structure for payload range diagram.</li><li><code>Rpts::Int64</code>: Density of ranges to be plot (Optional).</li><li><code>Ppts::Int64</code>: Density of payloads to be plot (Optional).</li><li><code>filename::String</code>: filename string for the plot to be stored (Optional).</li><li><code>plots_OEW::Bool</code>: Whether to plot OEW+Payload (true) on the y-axis or just Payload (false, default) (Optional).</li><li><code>itermax::Int64</code>: Max Iterations for fly_mission! loop (Optional).</li><li><code>initializes_engine::Bool</code>: Use design case as initial guess for engine state if true (Optional)</li><li><code>specifying_cruise::String</code>: option for whether cruise altitude or lift coefficient is specified. Options are &quot;altitude&quot; or &quot;lift_coefficient&quot;</li><li><code>Ldebug::Bool</code>: verbosity flag. false by default, hiding outputs as PR sweeps progress (Optional).</li></ul></div></details></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/4c77af0f25938bf38909308cbf6cdad94e17e78a/src/IO/plotting/output_plots.jl#L1056-L1072">source</a></section></details></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../balance/balance/">¬´ Stability</a><a class="docs-footer-nextpage" href="../weightmodels/">TASOPT Weight Model ¬ª</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Friday 30 January 2026 16:23">Friday 30 January 2026</span>. Using Julia version 1.12.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
