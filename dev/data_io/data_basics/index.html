<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Data structure basics · TASOPT.jl</title><meta name="title" content="Data structure basics · TASOPT.jl"/><meta property="og:title" content="Data structure basics · TASOPT.jl"/><meta property="twitter:title" content="Data structure basics · TASOPT.jl"/><meta name="description" content="Documentation for TASOPT.jl."/><meta property="og:description" content="Documentation for TASOPT.jl."/><meta property="twitter:description" content="Documentation for TASOPT.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">TASOPT.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../examples/loadingrunning/">Loading and running</a></li><li><a class="tocitem" href="../../examples/payload_range/">Payload-range diagram</a></li><li><input class="collapse-toggle" id="menuitem-2-3" type="checkbox"/><label class="tocitem" for="menuitem-2-3"><span class="docs-label">Optimization</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/NM_optimization/">Nelder Mead</a></li><li><a class="tocitem" href="../../examples/gradient_based_optimization/">Gradient Based Optimization</a></li></ul></li><li><a class="tocitem" href="../../examples/sensitivity/">Sensitivities</a></li></ul></li><li><span class="tocitem">Aerodynamics</span><ul><li><a class="tocitem" href="../../aero/geometry/">Geometry</a></li><li><a class="tocitem" href="../../aero/lift/">Lift</a></li><li><a class="tocitem" href="../../aero/drag/">Drag</a></li><li><a class="tocitem" href="../../aero/moment/">Pitching moment</a></li><li><a class="tocitem" href="../../atmos/atmos/">Atmospheric properties</a></li></ul></li><li><span class="tocitem">Structures</span><ul><li><a class="tocitem" href="../../structures/wing/">Wings and tails</a></li><li><a class="tocitem" href="../../structures/fuselage/">Fuselage</a></li><li><a class="tocitem" href="../../structures/landing_gear/">Landing gear</a></li><li><a class="tocitem" href="../../structures/cabin_sizing/">Cabin sizing</a></li></ul></li><li><span class="tocitem">Propulsion systems</span><ul><li><a class="tocitem" href="../../propulsion/propsys/">Propulsion system</a></li><li><a class="tocitem" href="../../propulsion/gascalc/">Gas Calculations</a></li><li><a class="tocitem" href="../../propulsion/hxfun/">Heat exchangers</a></li><li><a class="tocitem" href="../../propulsion/PEMfuelcell/">PEM fuel cells</a></li></ul></li><li><span class="tocitem">Cryogenic tanks</span><ul><li><a class="tocitem" href="../../cryo_tank/fueltanks/">Thermal and structural models</a></li><li><a class="tocitem" href="../../cryo_tank/cryotank/">Homogeneous model</a></li></ul></li><li><a class="tocitem" href="../../balance/balance/">Stability</a></li><li><span class="tocitem">Mission and sizing</span><ul><li><a class="tocitem" href="../../sizing/sizing/">Design and evaluation</a></li><li><a class="tocitem" href="../../sizing/weightmodels/">TASOPT Weight Model</a></li></ul></li><li><span class="tocitem">Data and I/O</span><ul><li class="is-active"><a class="tocitem" href>Data structure basics</a><ul class="internal"><li><a class="tocitem" href="#par-arrays"><span><code>par</code> arrays</span></a></li><li><a class="tocitem" href="#aircraft-struct"><span><code>aircraft</code> <code>struct</code></span></a></li></ul></li><li><a class="tocitem" href="../structs/">Data structure details</a></li><li><a class="tocitem" href="../data_io/">Loading and saving models</a></li></ul></li><li><span class="tocitem">Miscellaneous</span><ul><li><a class="tocitem" href="../../misc/dreladocs/">Original Drela docs</a></li><li><a class="tocitem" href="../../misc/fordevs/">Notes for devs</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Data and I/O</a></li><li class="is-active"><a href>Data structure basics</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Data structure basics</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/MIT-LAE/TASOPT.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/MIT-LAE/TASOPT.jl/blob/main/docs/src/data_io/data_basics.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="datastructs_basics"><a class="docs-heading-anchor" href="#datastructs_basics">Data structure basics</a><a id="datastructs_basics-1"></a><a class="docs-heading-anchor-permalink" href="#datastructs_basics" title="Permalink"></a></h1><p>Performance and design data is held largely in the <code>par</code> arrays (a holdover from FORTRAN TASOPT) along with a growing body of <code>struct</code>s to represent cohesive components and systems. An <code>aircraft</code> <code>struct</code> wraps these arrays, <code>struct</code>s, and auxiliary information.</p><div class="admonition is-compat"><header class="admonition-header">Future Changes</header><div class="admonition-body"><p>We don&#39;t like this hybrid approach either. It&#39;s the legacy of Fortran.</p><p>In a future major revision, we aim to completely replace the <code>par</code> array system with the <code>struct</code>-oriented approach.</p></div></div><h2 id="par-arrays"><a class="docs-heading-anchor" href="#par-arrays"><code>par</code> arrays</a><a id="par-arrays-1"></a><a class="docs-heading-anchor-permalink" href="#par-arrays" title="Permalink"></a></h2><p>Four arrays contain both prescribed inputs <em>and</em> computed outputs, some of which are multi-dimensional:</p><ul><li><strong><code>parg</code></strong><code>::AbstractVector{Float64}</code>:  <strong>geometric</strong> quantities, weights, structural values, and other values inherent to an instantiated design (not operation).</li><li><strong><code>parm</code></strong><code>::AbstractArray{Float64, 2}</code>:  <strong>mission</strong>-prescribing parameters. The second dimension allows the specification of multiple mission profiles.</li><li><strong><code>para</code></strong><code>::AbstractArray{Float64, 3}</code>:  <strong>aerodynamic</strong> performance quantities. The second dimension captures the variation over a mission. The third dimension allows the specification of multiple mission profiles.</li><li><strong><code>pare</code></strong><code>::AbstractArray{Float64, 3}</code>:  <strong>engine</strong> perfomance quantities. As for <code>para</code>, the second and third dimensions capture flight-point and mission dependencies, respectively.</li></ul><p>Data in the <code>par</code> arrays are accessed via Integer indices defined at <code>src/data_structs/index.inc</code>. These indices can be added to a namespace via <code>include(__TASOPTindices__)</code>:</p><pre><code class="language-julia hljs">using TASOpt
#using __TASOPTroot__, which fetches the src directory
include(joinpath(__TASOPTroot__, &quot;data_structs/index.inc&quot;))

#or more concisely
include(__TASOPTindices__)</code></pre><p>The variable names of these indices indicate which <code>par</code> array they should access and hint at the quantity in question. For example, <code>ieTfuel</code> evaluates to <code>2</code> and retrieves the model&#39;s fuel temperature via <code>pare[ieTfuel]</code>. </p><p>Note that for the multi-dimensional <code>par</code> arrays, indexing with a single Integer only retrieves the value for the first flight point of the first mission (namely, the design mission). Additional indexing is required to access data from different flight points or missions. Indices for specific flight points are defined in <code>index.inc</code> and should be used when indexing <code>pare</code> or <code>para</code>, e.g., <code>ipstatic</code> for static ground condition or <code>ipcruise1</code> for the start of cruise.</p><pre><code class="language-julia hljs">using TASOpt
include(__TASOPTindices__)
ac = load_default_model()

println(&quot;Single element: &quot;, size(ac.pare[ieTfuel]))
println(ac.pare[ieTfuel])

println(&quot;Full slices: &quot;, size(ac.pare[ieTfuel,:,:]))
println(ac.pare[ieTfuel,:,:])

println(&quot;All missions at cruise start: &quot;, size(ac.pare[ieTfuel,ipcruise1,:]))
println(ac.pare[ieTfuel,ipcruise1,:])</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Loading default aircraft model
[ Info: No template input file provided. Proceeding with template file as determined by design mission range.
[ Info: Template input file selected: /home/runner/work/TASOPT.jl/TASOPT.jl/src/../example/defaults/default_input.toml
Single element: ()
280.0
Full slices: (17, 2)
[280.0 280.0; 280.0 280.0; 280.0 280.0; 280.0 280.0; 280.0 280.0; 280.0 280.0; 280.0 280.0; 280.0 280.0; 280.0 280.0; 280.0 280.0; 280.0 280.0; 280.0 280.0; 280.0 280.0; 280.0 280.0; 280.0 280.0; 280.0 280.0; 280.0 280.0]
All missions at cruise start: (2,)
[280.0, 280.0]</code></pre><p>can be included via the convenience variable <code>__TASOPTindices__</code></p><h2 id="aircraft-struct"><a class="docs-heading-anchor" href="#aircraft-struct"><code>aircraft</code> <code>struct</code></a><a id="aircraft-struct-1"></a><a class="docs-heading-anchor-permalink" href="#aircraft-struct" title="Permalink"></a></h2><p>An <code>aircraft</code> is composed of <code>par</code> array fields, title and description fields, and a <code>is_sized</code> flag to indicate its status. An optional <code>fuse_tank</code> field is present as a trial for future <code>struct</code>-based development. All fields are dot-accessible and array elements can be changed (e.g., <code>ac.parg[igS] = 20</code>), though the <code>struct</code> itself is not mutable.</p><p>Refer to the <a href="../structs/#datastructs"><code>struct</code> reference page</a> for add&#39;l details.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../sizing/weightmodels/">« TASOPT Weight Model</a><a class="docs-footer-nextpage" href="../structs/">Data structure details »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.1 on <span class="colophon-date" title="Friday 18 April 2025 15:10">Friday 18 April 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
