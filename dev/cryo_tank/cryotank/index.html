<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Homogeneous model ¬∑ TASOPT.jl</title><meta name="title" content="Homogeneous model ¬∑ TASOPT.jl"/><meta property="og:title" content="Homogeneous model ¬∑ TASOPT.jl"/><meta property="twitter:title" content="Homogeneous model ¬∑ TASOPT.jl"/><meta name="description" content="Documentation for TASOPT.jl."/><meta property="og:description" content="Documentation for TASOPT.jl."/><meta property="twitter:description" content="Documentation for TASOPT.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">TASOPT.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../examples/loadingrunning/">Loading and running</a></li><li><a class="tocitem" href="../../examples/payload_range/">Payload-range diagram</a></li><li><input class="collapse-toggle" id="menuitem-2-3" type="checkbox"/><label class="tocitem" for="menuitem-2-3"><span class="docs-label">Optimization</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/NM_optimization/">Nelder Mead</a></li><li><a class="tocitem" href="../../examples/gradient_based_optimization/">Gradient Based Optimization</a></li></ul></li><li><a class="tocitem" href="../../examples/sensitivity/">Sensitivities</a></li></ul></li><li><span class="tocitem">Aerodynamics</span><ul><li><a class="tocitem" href="../../aero/geometry/">Geometry</a></li><li><a class="tocitem" href="../../aero/lift/">Lift</a></li><li><a class="tocitem" href="../../aero/drag/">Drag</a></li><li><a class="tocitem" href="../../aero/moment/">Pitching moment</a></li><li><a class="tocitem" href="../../atmos/atmos/">Atmospheric properties</a></li></ul></li><li><span class="tocitem">Structures</span><ul><li><a class="tocitem" href="../../structures/wing/">Wings and tails</a></li><li><a class="tocitem" href="../../structures/fuselage/">Fuselage</a></li><li><a class="tocitem" href="../../structures/landing_gear/">Landing gear</a></li><li><a class="tocitem" href="../../structures/cabin_sizing/">Cabin sizing</a></li></ul></li><li><span class="tocitem">Propulsion systems</span><ul><li><a class="tocitem" href="../../propulsion/propsys/">Propulsion system</a></li><li><a class="tocitem" href="../../propulsion/gascalc/">Gas Calculations</a></li><li><a class="tocitem" href="../../propulsion/hxfun/">Heat exchangers</a></li><li><a class="tocitem" href="../../propulsion/PEMfuelcell/">PEM fuel cells</a></li></ul></li><li><span class="tocitem">Cryogenic tanks</span><ul><li><a class="tocitem" href="../fueltanks/">Thermal and structural models</a></li><li class="is-active"><a class="tocitem" href>Homogeneous model</a><ul class="internal"><li><a class="tocitem" href="#Theory"><span>Theory</span></a></li><li><a class="tocitem" href="#Functions"><span>Functions</span></a></li></ul></li></ul></li><li><a class="tocitem" href="../../balance/balance/">Stability</a></li><li><span class="tocitem">Mission and sizing</span><ul><li><a class="tocitem" href="../../sizing/sizing/">Design and evaluation</a></li><li><a class="tocitem" href="../../sizing/weightmodels/">TASOPT Weight Model</a></li></ul></li><li><span class="tocitem">Data and I/O</span><ul><li><a class="tocitem" href="../../data_io/data_basics/">Data structure basics</a></li><li><a class="tocitem" href="../../data_io/structs/">Data structure details</a></li><li><a class="tocitem" href="../../data_io/data_io/">Loading and saving models</a></li></ul></li><li><span class="tocitem">Miscellaneous</span><ul><li><a class="tocitem" href="../../misc/dreladocs/">Original Drela docs</a></li><li><a class="tocitem" href="../../misc/fordevs/">Notes for devs</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Cryogenic tanks</a></li><li class="is-active"><a href>Homogeneous model</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Homogeneous model</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/MIT-LAE/TASOPT.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands">ÔÇõ</span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/MIT-LAE/TASOPT.jl/blob/main/docs/src/cryo_tank/cryotank.md" title="Edit source on GitHub"><span class="docs-icon fa-solid">ÔÅÑ</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="CryoTank"><a class="docs-heading-anchor" href="#CryoTank">Homogeneous model</a><a id="CryoTank-1"></a><a class="docs-heading-anchor-permalink" href="#CryoTank" title="Permalink"></a></h1><p>In a tank containing a boiling liquid, such as a cryogenic liquid that has reached its saturation point, two fluid states exist: a liquid phase and a gas phase (or vapor). In a real tank, there would be some level of stratification leading to temperature differences between the two phases, which exist at the same pressure. This section describes the models used to simulate the evolution in time of the conditions inside a cryogenic tank. It is based on the homogeneous tank model<sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup><sup class="footnote-reference"><a id="citeref-2" href="#footnote-2">[2]</a></sup><sup class="footnote-reference"><a id="citeref-3" href="#footnote-3">[3]</a></sup>, which treats the fluid inside the tank as a well-mixed saturated mixture at homogeneous temperature and pressure.</p><h2 id="Theory"><a class="docs-heading-anchor" href="#Theory">Theory</a><a id="Theory-1"></a><a class="docs-heading-anchor-permalink" href="#Theory" title="Permalink"></a></h2><details class="admonition is-details"><summary class="admonition-header">üìñ Theory - Homogeneous model</summary><div class="admonition-body"><h2>Ordinary-differential equation system</h2><p>Let us consider a tank that contains a mixture of saturated liquid and gas phases at a saturation pressure <span>$p$</span>. The tank has a heat rate <span>$\dot{Q}$</span> into it and a work rate <span>$\dot{W}$</span> is performed in the tank. The tank also has a mass flow rate <span>$\dot{m}$</span> out of the tank of a fluid with quality <span>$x_{out}$</span>. In general, the tank may also be vented with a venting mass flow rate <span>$\dot{m}_{vent}$</span> of fluid with a quality <span>$x_{vent}$</span>. From conservation of energy, it can be shown that the derivative in time of the saturation pressure in this homogeneous case is<sup class="footnote-reference"><a id="citeref-2" href="#footnote-2">[2]</a></sup></p><p class="math-container">\[    \left( \frac{dp}{dt}\right)_h = \frac{\phi}{V}\left[\dot{Q} + \dot{W} - \dot{m} h_{vap} (x_{out} + \rho ^*) - \dot{m}_{vent} h_{vap} (x_{vent} + \rho ^*)\right],\]</p><p>where <span>$\phi$</span> is the energy derivative of the fluid mixture (to be defined later), <span>$V$</span> is the tank volume, <span>$h_{vap}$</span> is the enthalpy of vaporization of the liquid, and <span>$\rho ^*=\frac{\rho_g}{\rho_l-\rho_g}$</span> is the density ratio (<span>$l$</span> refers to the properties of the liquid phase and <span>$g$</span> to those of the gaseous phase). The enthalpy of vaporization is simply the enthalpy difference between the gaseous and liquid phases.</p><p>Experiments suggest that the pressure derivative in a real tank can be significantly greater than that of the homogeneous model due to stratification. Authors have accounted for this with a scaling factor <span>$\alpha$</span>, such that<sup class="footnote-reference"><a id="citeref-2" href="#footnote-2">[2]</a></sup><sup class="footnote-reference"><a id="citeref-3" href="#footnote-3">[3]</a></sup></p><p class="math-container">\[    \frac{dp}{dt} = \alpha \left( \frac{dp}{dt}\right)_h. \]</p><p>If the liquid volume fraction (fill fraction) if the tank is <span>$\beta$</span>, the density of the mixture can be expressed as </p><p class="math-container">\[    \rho = \beta \rho_l + (1-\beta) \rho_g.\]</p><p>Differentiating this in time,</p><p class="math-container">\[    \frac{d\rho}{dt} = \frac{d \beta}{dt} (\rho_l - \rho_g) + \beta \frac{d\rho_l}{dp}\frac{dp}{dt} + (1-\beta) \frac{d\rho_g}{dp} \frac{dp}{dt},\]</p><p>where the liquid- and gas-phase densities are functions of pressure only since the fluid is in saturated conditions. The derivative in time of density in the tank is equal to </p><p class="math-container">\[    \frac{d\rho}{dt} = -\frac{\dot{m} + \dot{m}_{vent}}{V}.\]</p><p>Solving for the rate of change of the fill volume in the tank,</p><p class="math-container">\[    \frac{d\beta}{dt} = \frac{1}{\rho_l - \rho_g}\left[\frac{d\rho}{dt} - \frac{dp}{dt} \left(\beta \frac{d\rho_l}{dp}+(1-\beta) \frac{d\rho_g}{dp}\right)\right].\]</p><p>The evolution in time of properties inside the tank can be modeled by solving the system of ordinary differential equations (ODEs) given by</p><p class="math-container">\[    \frac{d}{dt} \mathbf{x} = \mathbf{f}(t, \mathbf{x}, \mathbf{u}, \mathbf{p}),\]</p><p>where <span>$\mathbf{x} = [p, \beta]^T$</span>, <span>$\mathbf{u} = [\dot{Q}(t), \dot{W}(t), \dot{m}(t)]^T$</span> and <span>$\mathbf{p} = [V, \alpha, p_{vent}]^T$</span>, where <span>$p_{vent}$</span> is the pressure at which the tank is vented. These ODEs can be integrated in time from knowledge of the initial conditions, namely the initial pressure and initial tank fill fraction.</p><h3>Energy derivative</h3><p>The energy derivative <span>$\phi$</span> is given by<sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup></p><p class="math-container">\[    \phi = \frac{1}{\rho \left(\frac{\partial u}{\partial p}\right)_\rho},\]</p><p>where <span>$u$</span> represents the internal energy of the mixture. The partial derivative <span>$\left(\frac{\partial u}{\partial p}\right)_\rho$</span> is taken at constant mixture density. The internal energy of the mixture is given by</p><p class="math-container">\[    u = x u_g + (1-x) u_l,\]</p><p>where <span>$x$</span> represents the quality of the mixture (the mass fraction of the gaseous phase). Differentiating this in pressure at constant mixture density,</p><p class="math-container">\[    \left(\frac{\partial u}{\partial p}\right)_\rho = x \frac{du_g}{dp} + (1-x)\frac{du_l}{dp} + (u_g - u_l) \left(\frac{\partial x}{\partial p}\right)_\rho.\]</p><p>The density of the mixture can be related to the quality by<sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup></p><p class="math-container">\[   \frac{1}{\rho} = \frac{x}{\rho_g} + \frac{1-x}{\rho_l}.\]</p><p>Differentiating in pressure at constant mixture density yields</p><p class="math-container">\[   \left(\frac{\partial x}{\partial p}\right)_\rho = \left(\frac{1}{1/\rho_g - 1/\rho_l}\right)\left(\frac{x}{\rho_g^2}\frac{d\rho_g}{dp} + \frac{1-x}{\rho_l^2}\frac{d\rho_l}{dp}\right),\]</p><p>which completes the expression for the energy derivative.</p><h3>Venting</h3><p>Venting may be needed when the tank pressure has reached some maximum pressure. The purpose of mass venting from the tank is to prevent the tank pressure from increasing any further. To find the required venting mass flow rate, the equation for <span>$\frac{dp}{dt}$</span> can be set to zero whenever the venting pressure <span>$p_{vent}$</span> is reached or exceeded, yielding,</p><p class="math-container">\[   \dot{m}_{vent} = \begin{cases} 
   0, &amp; p&lt;p_{vent}\\ 
   \frac{\dot{Q} + \dot{W}}{h_{vap} (x_{vent} + \rho^*)} - \frac{x_{out} + \rho^*}{x_{vent} + \rho ^*}\dot{m}, &amp;p\geq p_{vent}
   \end{cases}.\]</p></div></details><h2 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h2><h3 id="Thermodynamic-properties"><a class="docs-heading-anchor" href="#Thermodynamic-properties">Thermodynamic properties</a><a id="Thermodynamic-properties-1"></a><a class="docs-heading-anchor-permalink" href="#Thermodynamic-properties" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TASOpt.CryoTank.gas_properties" href="#TASOpt.CryoTank.gas_properties"><code>TASOpt.CryoTank.gas_properties</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">gas_properties(species::String, p::Float64)</code></pre><p>This function returns the thermodynamic properties of a saturated vapor.</p><details class="admonition is-details"><summary class="admonition-header">üîÉ Inputs and Outputs</summary><div class="admonition-body"><p><strong>Inputs:</strong></p><ul><li><code>species::String</code>: Species name</li><li><code>p::Float64</code>: pressure (Pa)</li></ul><p><strong>Outputs:</strong></p><ul><li><code>Tsat::Float64</code>: temperature (K)</li><li><code>œÅ::Float64</code>: density (kg/m^3)</li><li><code>œÅ_p::Float64</code>: derivative of density with pressure (kg/m^3/Pa)</li><li><code>h::Float64</code>: specific enthalpy (J/kg)</li><li><code>u::Float64</code>: specific internal energy (J/kg)</li><li><code>u_p::Float64</code>: derivative of internal energy with pressure (J/kg/Pa)</li></ul></div></details></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/f9a3e1a06bfebe039b88b2d60c9eb855c81194a4/src/cryo_tank/fuel_thermo.jl#L1-L17">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TASOpt.CryoTank.liquid_properties" href="#TASOpt.CryoTank.liquid_properties"><code>TASOpt.CryoTank.liquid_properties</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">liquid_properties(species::String, p::Float64)</code></pre><p>This function returns the thermodynamic properties of a saturated liquid.</p><details class="admonition is-details"><summary class="admonition-header">üîÉ Inputs and Outputs</summary><div class="admonition-body"><p><strong>Inputs:</strong></p><ul><li><code>species::String</code>: Species name</li><li><code>p::Float64</code>: pressure (Pa)</li></ul><p><strong>Outputs:</strong></p><ul><li><code>Tsat::Float64</code>: temperature (K)</li><li><code>œÅ::Float64</code>: density (kg/m^3)</li><li><code>œÅ_p::Float64</code>: derivative of density with pressure (kg/m^3/Pa)</li><li><code>h::Float64</code>: specific enthalpy (J/kg)</li><li><code>u::Float64</code>: specific internal energy (J/kg)</li><li><code>u_p::Float64</code>: derivative of internal energy with pressure (J/kg/Pa)</li></ul></div></details></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/f9a3e1a06bfebe039b88b2d60c9eb855c81194a4/src/cryo_tank/fuel_thermo.jl#L54-L70">source</a></section></article><h3 id="Saturated-mixtures"><a class="docs-heading-anchor" href="#Saturated-mixtures">Saturated mixtures</a><a id="Saturated-mixtures-1"></a><a class="docs-heading-anchor-permalink" href="#Saturated-mixtures" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TASOpt.CryoTank.SaturatedGas" href="#TASOpt.CryoTank.SaturatedGas"><code>TASOpt.CryoTank.SaturatedGas</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Structure with thermodynamic parameters for the vapor portion of a saturated mixture.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/f9a3e1a06bfebe039b88b2d60c9eb855c81194a4/src/cryo_tank/mixture.jl#L1-L3">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TASOpt.CryoTank.SaturatedLiquid" href="#TASOpt.CryoTank.SaturatedLiquid"><code>TASOpt.CryoTank.SaturatedLiquid</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Structure with thermodynamic parameters for the liquid portion of a saturated mixture.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/f9a3e1a06bfebe039b88b2d60c9eb855c81194a4/src/cryo_tank/mixture.jl#L23-L25">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TASOpt.CryoTank.SaturatedMixture" href="#TASOpt.CryoTank.SaturatedMixture"><code>TASOpt.CryoTank.SaturatedMixture</code></a> ‚Äî <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Structure with thermodynamic properties of a saturated mixture.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/f9a3e1a06bfebe039b88b2d60c9eb855c81194a4/src/cryo_tank/mixture.jl#L45-L47">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TASOpt.CryoTank.update_pŒ≤!" href="#TASOpt.CryoTank.update_pŒ≤!"><code>TASOpt.CryoTank.update_pŒ≤!</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>update_pŒ≤!(mixture, p, Œ≤)</p><p>This function updates a saturated mixture when there is a change in pressure or liquid fill volume ratio.</p><details class="admonition is-details"><summary class="admonition-header">üîÉ Inputs and Outputs</summary><div class="admonition-body"><p><strong>Inputs:</strong></p><ul><li><code>mixture::SaturatedMixture</code>: saturated mixture</li><li><code>p::Float64</code>: pressure (Pa)</li><li><code>Œ≤::Float64</code>: liquid fill ratio</li></ul><p><strong>Outputs:</strong> No direct outputs. The <code>mixture</code> input is modified.</p></div></details></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/f9a3e1a06bfebe039b88b2d60c9eb855c81194a4/src/cryo_tank/mixture.jl#L186-L198">source</a></section></article><h3 id="Pressure-evolution"><a class="docs-heading-anchor" href="#Pressure-evolution">Pressure evolution</a><a id="Pressure-evolution-1"></a><a class="docs-heading-anchor-permalink" href="#Pressure-evolution" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TASOpt.CryoTank.dpdt" href="#TASOpt.CryoTank.dpdt"><code>TASOpt.CryoTank.dpdt</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">dpdt(mixture, Q, W, mdot, xout, V)</code></pre><p>This function returns the time derivatives for the pressure in a cryogenic tank.</p><details class="admonition is-details"><summary class="admonition-header">üîÉ Inputs and Outputs</summary><div class="admonition-body"><p><strong>Inputs:</strong></p><ul><li><code>mixture::SaturatedMixture</code>: liquid/vapor mixture in tank</li><li><code>Q::Float64</code>: heat rate (W)</li><li><code>W::Float64</code>: work rate (W)</li><li><code>mdot::Float64</code>: imposed mass flow rate out of the tank, e.g., to burn in combustor (kg/s)</li><li><code>xout::Float64</code>: quality of mass flow rate out of tank</li><li><code>mdot_vent::Float64</code>: required venting mass flow rate to keep tank pressure constant (kg/s)</li><li><code>xvent::Float64</code>: quality of mixture that is vented</li><li><code>V::Float64</code>: tank volume (m^3) </li><li><code>Œ±::Float64</code>: fudge factor to account for effect of stratification</li></ul><p><strong>Outputs:</strong></p><ul><li><code>dp_dt::Float64</code>: pressure derivative in time (Pa/s)</li></ul></div></details></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/f9a3e1a06bfebe039b88b2d60c9eb855c81194a4/src/cryo_tank/pressure.jl#L31-L49">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TASOpt.CryoTank.dŒ≤dt" href="#TASOpt.CryoTank.dŒ≤dt"><code>TASOpt.CryoTank.dŒ≤dt</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">dŒ≤dt(mixture, dp_dt, mdot, V)</code></pre><p>This function returns the time derivatives for the liquid fill volume fraction in a cryogenic tank.</p><details class="admonition is-details"><summary class="admonition-header">üîÉ Inputs and Outputs</summary><div class="admonition-body"><p><strong>Inputs:</strong></p><ul><li><code>mixture::SaturatedMixture</code>: liquid/vapor mixture in tank</li><li><code>dp_dt::Float64</code>: pressure derivative (Pa/s)</li><li><code>mdot_tot::Float64</code>: total mass flow rate out of the tank, including venting (kg/s)</li><li><code>V::Float64</code>: tank volume (m^3) </li></ul><p><strong>Outputs:</strong></p><ul><li><code>dŒ≤_dt::Float64</code>: fill fraction derivative in time (1/s)</li></ul></div></details></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/f9a3e1a06bfebe039b88b2d60c9eb855c81194a4/src/cryo_tank/pressure.jl#L57-L70">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TASOpt.CryoTank.venting_mass_flow" href="#TASOpt.CryoTank.venting_mass_flow"><code>TASOpt.CryoTank.venting_mass_flow</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">venting_mass_flow(mixture, Q, W, mdot, xout, xvent)</code></pre><p>This function returns the mass flow rate that needs to be vented to keep the tank pressure constant.</p><details class="admonition is-details"><summary class="admonition-header">üîÉ Inputs and Outputs</summary><div class="admonition-body"><p><strong>Inputs:</strong></p><ul><li><code>mixture::SaturatedMixture</code>: liquid/vapor mixture in tank</li><li><code>Q::Float64</code>: heat rate (W)</li><li><code>W::Float64</code>: work rate (W)</li><li><code>mdot::Float64</code>: mass flow rate out of the tank (kg/s)</li><li><code>xout::Float64</code>: quality of mass flow rate out of tank</li><li><code>xvent::Float64</code>: quality of the mixture that is vented</li></ul><p><strong>Outputs:</strong></p><ul><li><code>mdot_vent::Float64</code>: venting mass flow rate (kg/s)</li></ul></div></details></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/f9a3e1a06bfebe039b88b2d60c9eb855c81194a4/src/cryo_tank/pressure.jl#L80-L95">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TASOpt.CryoTank.mdot_boiloff" href="#TASOpt.CryoTank.mdot_boiloff"><code>TASOpt.CryoTank.mdot_boiloff</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mdot_boiloff(Œ≤, dŒ≤_dt, dp_dt, œÅl, œÅl_p, mdot, V)</code></pre><p>This function returns the rate of mass boiloff in the tank.</p><details class="admonition is-details"><summary class="admonition-header">üîÉ Inputs and Outputs</summary><div class="admonition-body"><p><strong>Inputs:</strong></p><ul><li><code>mixture::SaturatedMixture</code>: liquid/vapor mixture in tank</li><li><code>dŒ≤_dt::Float64</code>: fill fraction derivative in time (1/s)</li><li><code>dp_dt::Float64</code>: pressure derivative (Pa/s)</li><li><code>mdot_liq::Float64</code>: liquid-phase mass flow rate out of the tank (kg/s)</li><li><code>V::Float64</code>: tank volume (m^3) </li></ul><p><strong>Outputs:</strong></p><ul><li><code>mdot_boiloff::Float64</code>: rate of liquid mass boiloff (kg/s)</li></ul></div></details></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/f9a3e1a06bfebe039b88b2d60c9eb855c81194a4/src/cryo_tank/pressure.jl#L101-L115">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TASOpt.CryoTank.TankDerivatives" href="#TASOpt.CryoTank.TankDerivatives"><code>TASOpt.CryoTank.TankDerivatives</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">TankDerivatives(t, y, u, params)</code></pre><p>This function returns the time derivatives for pressure and liquid volume fill fraction in a cryogenic tank.</p><details class="admonition is-details"><summary class="admonition-header">üîÉ Inputs and Outputs</summary><div class="admonition-body"><p><strong>Inputs:</strong></p><ul><li><code>t::Float64</code>: time (s)</li><li><code>y::Vector{Float64}</code>: vector with the states; <code>y[1]</code> is pressure, <code>y[2]</code> is fill fraction, y[3] is tank mass, </li></ul><p>y[4] is total liquid mass extracted, y[5] is the total mass that is vented and y[6] is the total mass that is boiled off.</p><ul><li><code>u::Struct</code>: structure with inputs; functions for heat rate, work rate and mass flow rate </li><li><code>params::Struct</code>: structure with parameters; including initial tank mixture, tank max pressure and tank volume </li></ul><p><strong>Outputs:</strong></p><ul><li><code>dydt::Vector{Float64}</code>: vector with the state derivatives in time</li></ul></div></details></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/f9a3e1a06bfebe039b88b2d60c9eb855c81194a4/src/cryo_tank/pressure.jl#L125-L139">source</a></section></article><h3 id="TASOPT-interfacing"><a class="docs-heading-anchor" href="#TASOPT-interfacing">TASOPT interfacing</a><a id="TASOPT-interfacing-1"></a><a class="docs-heading-anchor-permalink" href="#TASOPT-interfacing" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TASOpt.CryoTank.find_mdot_time" href="#TASOpt.CryoTank.find_mdot_time"><code>TASOpt.CryoTank.find_mdot_time</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">find_mdot_time(t, parg, para, pare)</code></pre><p>This function outputs the fuel mass flow rate to the engines as a function of time for a TASOPT aircraft  model with fuselage fuel tanks.</p><details class="admonition is-details"><summary class="admonition-header">üîÉ Inputs and Outputs</summary><div class="admonition-body"><p><strong>Inputs:</strong></p><ul><li><code>t::Float64</code>: time in mission (s)</li><li><code>parg::Vector{Float64}</code>: vector with aircraft geometric parameters</li><li><code>para::Array{Float64}</code>: array with aircraft aerodynamic parameters</li><li><code>pare::Array{Float64}</code>: array with aircraft engine parameters</li></ul><p><strong>Outputs:</strong></p><ul><li><code>t::mdot</code>: fuel mass flow rate out of the tank (kg/s)</li></ul></div></details></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/f9a3e1a06bfebe039b88b2d60c9eb855c81194a4/src/cryo_tank/tanktools.jl#L1-L15">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TASOpt.CryoTank.calc_Q_points" href="#TASOpt.CryoTank.calc_Q_points"><code>TASOpt.CryoTank.calc_Q_points</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">calc_Q_points(fuse, fuse_tank, ifuel, parg, para)</code></pre><p>This function calculates the heat transfer rate into the tank at the design mission points.</p><details class="admonition is-details"><summary class="admonition-header">üîÉ Inputs and Outputs</summary><div class="admonition-body"><p><strong>Inputs:</strong></p><ul><li><code>fuse_tank::FuselageTank</code>: struct with aircraft cryogenic tank parameters</li><li><code>ifuel::Integer</code>: fuel type specification for gas calcs from ac.options</li><li><code>parg::Vector{Float64}</code>: vector with aircraft geometric parameters</li><li><code>pare::Array{Float64}</code>: array with aircraft engine parameters</li></ul><p><strong>Outputs:</strong></p><ul><li><code>Qs::Vector{Float64}</code>: vector with heat transfer rate at mission points (W)</li></ul></div></details></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/f9a3e1a06bfebe039b88b2d60c9eb855c81194a4/src/cryo_tank/tanktools.jl#L45-L58">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TASOpt.CryoTank.find_Q_time_interp" href="#TASOpt.CryoTank.find_Q_time_interp"><code>TASOpt.CryoTank.find_Q_time_interp</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">find_Q_time_interp(t, para, Qs)</code></pre><p>This function estimates the heat transfer rate into the tank in a TASOPT model for a given time. It uses precomputed rates at each mission point for speed.</p><details class="admonition is-details"><summary class="admonition-header">üîÉ Inputs and Outputs</summary><div class="admonition-body"><p><strong>Inputs:</strong></p><ul><li><code>t::Float64</code>: time in mission (s)</li><li><code>para::Array{Float64}</code>: array with aircraft aerodynamic parameters</li><li><code>Qs::Vector{Float64}</code>: vector with heat transfer rate at mission points (W)</li></ul><p><strong>Outputs:</strong></p><ul><li><code>Q::Float64</code>: heat transfer rate (W)</li></ul></div></details></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/f9a3e1a06bfebe039b88b2d60c9eb855c81194a4/src/cryo_tank/tanktools.jl#L80-L93">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TASOpt.CryoTank.analyze_TASOPT_tank" href="#TASOpt.CryoTank.analyze_TASOPT_tank"><code>TASOpt.CryoTank.analyze_TASOPT_tank</code></a> ‚Äî <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">analyze_TASOPT_tank(ac_orig, t_hold_orig::Float64 = 0.0, t_hold_dest::Float64 = 0.0, N::Int64 = 50)</code></pre><p>This function analyses the evolution in time of a cryogenic tank inside a TASOPT aircraft model.</p><details class="admonition is-details"><summary class="admonition-header">üîÉ Inputs and Outputs</summary><div class="admonition-body"><p><strong>Inputs:</strong></p><ul><li><code>ac_orig::aicraft</code>: TASOPT aircraft model</li><li><code>t_hold_orig::Float64</code>: hold at origin (s)</li><li><code>t_hold_dest::Float64</code>: hold at destination (s)</li><li><code>im::Int64</code>: mission index</li></ul><p><strong>Outputs:</strong></p><ul><li><code>ts::Vector{Float64}</code>: vector with times (s)</li><li><code>ps::Vector{Float64}</code>: vector with pressure evolution in time (Pa)</li><li><code>Œ≤s::Vector{Float64}</code>: vector with tank fill fraction evolution in time</li><li><code>Ms::Vector{Float64}</code>: vector with tank fuel mass evolution in time (kg)</li><li><code>Mburns::Vector{Float64}</code>: vector with cumulative mass burnt in engine (kg)</li><li><code>Mboils::Vector{Float64}</code>: vector with cumulative mass that has boiled off (kg)</li><li><code>mdot_boils::Vector{Float64}</code>: vector with evolution of boiloff mass flow rate in time (kg/s)</li><li><code>Mvents::Vector{Float64}</code>: vector with cumulative mass that has been vented (kg)</li><li><code>mdots::Vector{Float64}</code>: vector with fuel mass flow rate to engines (kg/s)</li><li><code>Qs::Vector{Float64}</code>: vector with heat rate to tank (W)</li></ul></div></details></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MIT-LAE/TASOPT.jl/blob/f9a3e1a06bfebe039b88b2d60c9eb855c81194a4/src/cryo_tank/tanktools.jl#L166-L189">source</a></section></article><section class="footnotes is-size-7"><ul><li class="footnote" id="footnote-1"><a class="tag is-link" href="#citeref-1">1</a>Lin, Chin S., Neil T. Van Dresar, and Mohammad M. Hasan. &quot;Pressure control analysis of cryogenic storage systems.&quot; Journal of propulsion and power 20.3 (2004): 480-485.</li><li class="footnote" id="footnote-2"><a class="tag is-link" href="#citeref-2">2</a>Verstraete, Dries, et al. &quot;Hydrogen fuel tanks for subsonic transport aircraft.&quot; International journal of hydrogen energy 35.20 (2010): 11085-11098.</li><li class="footnote" id="footnote-3"><a class="tag is-link" href="#citeref-3">3</a>Winnefeld, Christopher, et al. &quot;Modelling and designing cryogenic hydrogen tanks for future aircraft applications.&quot; Energies 11.1 (2018): 105.</li></ul></section></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../fueltanks/">¬´ Thermal and structural models</a><a class="docs-footer-nextpage" href="../../balance/balance/">Stability ¬ª</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.1 on <span class="colophon-date" title="Friday 18 April 2025 16:50">Friday 18 April 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
