<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Payload-range diagram · TASOPT.jl</title><meta name="title" content="Payload-range diagram · TASOPT.jl"/><meta property="og:title" content="Payload-range diagram · TASOPT.jl"/><meta property="twitter:title" content="Payload-range diagram · TASOPT.jl"/><meta name="description" content="Documentation for TASOPT.jl."/><meta property="og:description" content="Documentation for TASOPT.jl."/><meta property="twitter:description" content="Documentation for TASOPT.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">TASOPT.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../loadingrunning/">Loading and running</a></li><li class="is-active"><a class="tocitem" href>Payload-range diagram</a><ul class="internal"><li><a class="tocitem" href="#Using-[PayloadRange()](@ref)"><span>Using <code>PayloadRange()</code></span></a></li><li><a class="tocitem" href="#Customizing-a-payload-range-diagram"><span>Customizing a payload-range diagram</span></a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-3" type="checkbox"/><label class="tocitem" for="menuitem-2-3"><span class="docs-label">Optimization</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../NM_optimization/">Nelder Mead</a></li><li><a class="tocitem" href="../gradient_based_optimization/">Gradient Based Optimization</a></li></ul></li><li><a class="tocitem" href="../sensitivity/">Sensitivities</a></li></ul></li><li><span class="tocitem">Aerodynamics</span><ul><li><a class="tocitem" href="../../aero/geometry/">Geometry</a></li><li><a class="tocitem" href="../../aero/lift/">Lift</a></li><li><a class="tocitem" href="../../aero/drag/">Drag</a></li><li><a class="tocitem" href="../../aero/moment/">Pitching moment</a></li><li><a class="tocitem" href="../../atmos/atmos/">Atmospheric properties</a></li></ul></li><li><span class="tocitem">Structures</span><ul><li><a class="tocitem" href="../../structures/wing/">Wings and tails</a></li><li><a class="tocitem" href="../../structures/fuselage/">Fuselage</a></li><li><a class="tocitem" href="../../structures/landing_gear/">Landing gear</a></li><li><a class="tocitem" href="../../structures/cabin_sizing/">Cabin sizing</a></li></ul></li><li><span class="tocitem">Propulsion systems</span><ul><li><a class="tocitem" href="../../propulsion/propsys/">Propulsion system</a></li><li><a class="tocitem" href="../../propulsion/gascalc/">Gas Calculations</a></li><li><a class="tocitem" href="../../propulsion/hxfun/">Heat exchangers</a></li><li><a class="tocitem" href="../../propulsion/PEMfuelcell/">PEM fuel cells</a></li></ul></li><li><span class="tocitem">Cryogenic tanks</span><ul><li><a class="tocitem" href="../../cryo_tank/fueltanks/">Thermal and structural models</a></li><li><a class="tocitem" href="../../cryo_tank/cryotank/">Homogeneous model</a></li></ul></li><li><a class="tocitem" href="../../balance/balance/">Stability</a></li><li><span class="tocitem">Mission and sizing</span><ul><li><a class="tocitem" href="../../sizing/sizing/">Design and evaluation</a></li><li><a class="tocitem" href="../../sizing/weightmodels/">TASOPT Weight Model</a></li></ul></li><li><span class="tocitem">Data and I/O</span><ul><li><a class="tocitem" href="../../data_io/data_basics/">Data structure basics</a></li><li><a class="tocitem" href="../../data_io/structs/">Data structure details</a></li><li><a class="tocitem" href="../../data_io/data_io/">Loading and saving models</a></li></ul></li><li><span class="tocitem">Miscellaneous</span><ul><li><a class="tocitem" href="../../misc/dreladocs/">Original Drela docs</a></li><li><a class="tocitem" href="../../misc/fordevs/">Notes for devs</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Examples</a></li><li class="is-active"><a href>Payload-range diagram</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Payload-range diagram</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/MIT-LAE/TASOPT.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/MIT-LAE/TASOPT.jl/blob/main/docs/src/examples/payload_range.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Payload-range-diagram"><a class="docs-heading-anchor" href="#Payload-range-diagram">Payload-range diagram</a><a id="Payload-range-diagram-1"></a><a class="docs-heading-anchor-permalink" href="#Payload-range-diagram" title="Permalink"></a></h1><p>Once an <code>aircraft</code> model is satisfactory, its capabilities and performance can be evaluated over a range of mission conditions. For example:</p><p><img src="../../assets/PayloadRangeExample.png" alt="PayloadRangePlot"/></p><h2 id="Using-[PayloadRange()](@ref)"><a class="docs-heading-anchor" href="#Using-[PayloadRange()](@ref)">Using <a href="../../sizing/sizing/#TASOPT.PayloadRange"><code>PayloadRange()</code></a></a><a id="Using-[PayloadRange()](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#Using-[PayloadRange()](@ref)" title="Permalink"></a></h2><p>To plot the payload-range diagram of an aircraft model with a fleet of missions, a design mission must be chosen, which will determine the second corner point in the diagram. The design mission should be reflected in the <code>input.toml</code> via the design range and payload weight (e.g., 3500 nmi and 195 pax):</p><pre><code class="language-toml hljs">[Mission]
    N_missions = 2 # Number of missions to be modeled (first mission is the design mission)
    pax = 195       # Number of passengers in each mission
    range = &quot;3500.0 nmi&quot; # Design Range + second mission range
                            #[&quot;3000.0 nmi&quot;, &quot;500.0 nmi&quot;, &quot;2500.0 nmi&quot;, &quot;3550.0 nmi&quot;, &quot;3734.0 nmi&quot;] # Design Range + second mission range
    weight_per_pax = &quot;215.0 lbf&quot; # Specify weight per passenger - 
                            # includes luggage [lbm or lbf or kg or N] </code></pre><p>After the aircraft is sized, <a href="../../sizing/sizing/#TASOPT.PayloadRange"><code>PayloadRange()</code></a> can be called:</p><pre><code class="language-julia hljs">#Use default model for payload-range diagram
using TASOPT
ac = load_default_model() 
size_aircraft!(ac)

TASOPT.PayloadRange(ac)</code></pre><p>In this approach, only one mission needs to be specified. TASOPT will copy the parameters from the sizing mission (e.g., takeoff altitude and temperature), and vary the payload and range to produce a payload-range diagram. </p><h2 id="Customizing-a-payload-range-diagram"><a class="docs-heading-anchor" href="#Customizing-a-payload-range-diagram">Customizing a payload-range diagram</a><a id="Customizing-a-payload-range-diagram-1"></a><a class="docs-heading-anchor-permalink" href="#Customizing-a-payload-range-diagram" title="Permalink"></a></h2><p>For a more customizable diagram, a second mission may be specified and the following approach can be followed. First, initialize some variables for mission range and payloads:</p><pre><code class="language-julia hljs"># Make an array of ranges to plot
RangeArray = ac.parm[imRange] * LinRange(0.1,1.2,Rpts)
# Store constant values to compare later
Wmax = ac.parg[igWMTO]
Fuelmax = ac.parg[igWfmax]
Wempty = ac.parg[igWMTO] - ac.parg[igWfuel] - ac.parg[igWpay]
# Arrays for plotting
RangesToPlot = []
PayloadToPlot = []
maxPay = ac.parm[imWpay ]</code></pre><p>Then, evaluate the mission points with some logic shortcuts:</p><pre><code class="language-julia hljs">for Range = RangeArray
    # Make an array of payloads to plot
    Payloads = (maxPay) * LinRange(1, 0.1, Ppts)
    ac.parm[imRange] = Range
    for mWpay = Payloads
        println(&quot;Checking for Range (nmi): &quot;,Range/1852.0, &quot; and Pax = &quot;, mWpay/(215*4.44822))
        ac.parm[imWpay ] = mWpay
        # Try fly_mission! after setting new range and payload
        try
            TASOPT.fly_mission!(ac, 2)
            # fly_mission! success: store maxPay, break loop
            mWfuel = ac.parm[imWfuel,2]
            WTO = Wempty + mWpay + mWfuel

            if WTO &gt; Wmax || mWfuel &gt; Fuelmax || WTO &lt; 0.0 || mWfuel &lt; 0.0 
                WTO = 0.0
                mWfuel = 0.0
                println(&quot;Max out error!&quot;)
                if mWpay == 0
                    println(&quot;Payload 0 and no convergence found&quot;)
                    maxPay = 0
                end
            else
                maxPay = mWpay
                println(&quot;Converged - moving to next range...&quot;)
                break
            end     
        catch
            println(&quot;Not Converged - moving to lower payload...&quot;)      
        end
    end
    append!(RangesToPlot, Range)
    if OEW
        append!(PayloadToPlot, maxPay+Wempty)
    else
        append!(PayloadToPlot, maxPay)
    end
end</code></pre><p>Plot as desired. <code>Plots.jl</code> is a recommended <code>matplotlib</code>-like library:</p><pre><code class="language-julia hljs">using Plots

#unit conversions
x = RangesToPlot ./ (1000 * 1852.0) #to nmi
y = PayloadToPlot ./ (9.8 * 1000) #to tonnes

# Create the plot
p = plot(x, y,
    label = &quot;Payload&quot;,
    linestyle = :solid, 
    color = :blue,
    xlabel = &quot;Range [1000 nmi]&quot;,
    ylabel = &quot;Weight [tonnes]&quot;,
    title = &quot;Payload Range Plot&quot;,
    grid = true,
    dpi = 300,
    size = (800, 500)
)

# Save the plot to a file
savefig(p, &quot;./PayloadRangeExample.png&quot;)
</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../loadingrunning/">« Loading and running</a><a class="docs-footer-nextpage" href="../NM_optimization/">Nelder Mead »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.1 on <span class="colophon-date" title="Tuesday 15 April 2025 13:54">Tuesday 15 April 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
